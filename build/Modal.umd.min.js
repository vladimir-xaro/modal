!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.Modal=n():t.Modal=n()}(self,(function(){return function(){"use strict";var t={458:function(t,n,i){i.r(n),i.d(n,{default:function(){return h}});var e=function(t){var n="function"==typeof Symbol&&Symbol.iterator,i=n&&t[n],e=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},o=function(t,n){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var e,o,s=i.call(t),r=[];try{for(;(void 0===n||n-- >0)&&!(e=s.next()).done;)r.push(e.value)}catch(t){o={error:t}}finally{try{e&&!e.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}return r},s=function(){for(var t=[],n=0;n<arguments.length;n++)t=t.concat(o(arguments[n]));return t},r=function(){function t(t){for(var n in void 0===t&&(t={}),this.events={},t)t[n]&&this.subscribe(n,t[n])}return t.prototype.subscribe=function(t,n){var i,o,r=this;this.has(t)||(this.events[t]=[]);var a=[];if(Array.isArray(n))try{for(var c=e(n),l=c.next();!l.done;l=c.next()){var d=l.value;a.push.apply(a,s(this.subscribe(t,d)))}}catch(t){i={error:t}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}else this.events[t].push(n),a.push((function(){return r.removeListener(t,n)}));return a},t.prototype.unsubscribe=function(){for(var t,n,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];try{for(var s=e(i),r=s.next();!r.done;r=s.next()){var a=r.value;this.events[a]&&delete this.events[a]}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}},t.prototype.removeListener=function(t,n){if(Array.isArray(this.events[t])){var i=this.events[t].indexOf(n);i>-1&&this.events[t].splice(i,1)}},t.prototype.once=function(t,n){var i=this.subscribe(t,(function(){var t,o;if(i[0](),Array.isArray(n))try{for(var s=e(n),r=s.next();!r.done;r=s.next()){(0,r.value)()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(o=s.return)&&o.call(s)}finally{if(t)throw t.error}}else n()}))},t.prototype.has=function(t){return!!this.events[t]},t.prototype.listenerCount=function(t){return!!this.events.hasOwnProperty(t)&&this.events[t].length},t.prototype.emit=function(t){for(var n,i,o=[],r=1;r<arguments.length;r++)o[r-1]=arguments[r];var a=this.events[t];if(a)try{for(var c=e(a),l=c.next();!l.done;l=c.next()){var d=l.value;d.apply(void 0,s(o))}}catch(t){n={error:t}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}},t.prototype.validateEmit=function(t){for(var n,i,o=[],r=1;r<arguments.length;r++)o[r-1]=arguments[r];var a=this.events[t];if(!a)return!1;try{for(var c=e(a),l=c.next();!l.done;l=c.next()){var d=l.value;if(!d.apply(void 0,s(o)))return!1}}catch(t){n={error:t}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}return!0},t.prototype.seriesEmit=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var e=this.events[t];if(e){for(var o,r=0;r<e.length;r++)o=0===r?e[r].apply(e,s(n)):e[r](o);return o}},t}();function a(...t){const n=Object(t[0]);for(let i=1;i<t.length;i+=1){const e=t[i];if(null!=e){const t=Object.keys(Object(e));for(let i=0,o=t.length;i<o;i+=1){const o=t[i],s=Object.getOwnPropertyDescriptor(e,o);void 0!==s&&s.enumerable&&(c(n[o])&&c(e[o])?a(n[o],e[o]):!c(n[o])&&c(e[o])?(n[o]={},a(n[o],e[o])):n[o]=e[o])}}}return n}function c(t){return"object"==typeof t&&null!==t&&t.constructor&&t.constructor===Object}var l=function(t){var n="function"==typeof Symbol&&Symbol.iterator,i=n&&t[n],e=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},d={el:null,dom:{backdrop:null,container:null},visible:!1,animations:!0,transitions:!1,closeAttr:"data-modal-close",allow:{closeEsc:!0,closeAttr:!0,animateContainer:!0,animateBackdrop:!0},selector:{container:".modal__container",backdrop:".modal__backdrop",closeBtn:".modal__btn-close"},classes:{visible:"modal--visible",animation:{cancel:"modal-animation--cancel",show:{container:"modal-animation-container--show",backdrop:"modal-animation-backdrop--show"},hide:{container:"modal-animation-container--hide",backdrop:"modal-animation-backdrop--hide"}},transition:{cancel:"modal-transition--cancel",show:{container:"modal-transition-container--show",backdrop:"modal-transition-backdrop--show"},hide:{container:"modal-transition-container--hide",backdrop:"modal-transition-backdrop--hide"}}}},h=function(){function t(t){var n,i;if(this.pending=!1,this.animation={container:!1,backdrop:!1},this.emitter=new r(t.on),this.config=a(d,t),this.config.dom.backdrop||(this.config.dom.backdrop=this.config.el.querySelector(".modal__backdrop")),!this.config.dom.container){var e=this.config.el.querySelector(".modal__container");if(!e)throw new Error("[Modal] Container does not exists");this.config.dom.container=e}this.__closeAttrListener=this.__closeAttrListener.bind(this),this.__closeEscListener=this.__closeEscListener.bind(this),this.config.animations?(this.__containerAnimationEndListener=this.__containerAnimationEndListener.bind(this),this.__backdropAnimationEndListener=this.__backdropAnimationEndListener.bind(this),this.config.dom.container.addEventListener("animationend",this.__containerAnimationEndListener),null===(n=this.config.dom.backdrop)||void 0===n||n.addEventListener("animationend",this.__backdropAnimationEndListener)):this.config.transitions&&(this.__containerTransitionEndListener=this.__containerTransitionEndListener.bind(this),this.__backdropTransitionEndListener=this.__backdropTransitionEndListener.bind(this),this.config.dom.container.addEventListener("transitionend",this.__containerTransitionEndListener),null===(i=this.config.dom.backdrop)||void 0===i||i.addEventListener("transitionend",this.__backdropTransitionEndListener))}return t.prototype.__closeAttrListener=function(t){this.hide(),this.emitter.emit("closeAttrClick",this,t)},t.prototype.__closeEscListener=function(t){t.stopPropagation(),"Escape"===t.code&&(this.hide(),this.emitter.emit("escKey",this,t))},t.prototype.__containerAnimationEndListener=function(t){this.emitter.emit("containerAnimationEnd",this,t)},t.prototype.__backdropAnimationEndListener=function(t){this.emitter.emit("backdropAnimationEnd",this,t)},t.prototype.__containerTransitionEndListener=function(t){this.emitter.emit("containerTransitionEnd",this,t)},t.prototype.__backdropTransitionEndListener=function(t){this.emitter.emit("backdropTransitionEnd",this,t)},t.prototype.addListeners=function(){var t,n,i=this.config.el.querySelectorAll("["+this.config.closeAttr+"]");try{for(var e=l(i),o=e.next();!o.done;o=e.next()){o.value.addEventListener("click",this.__closeAttrListener)}}catch(n){t={error:n}}finally{try{o&&!o.done&&(n=e.return)&&n.call(e)}finally{if(t)throw t.error}}document.addEventListener("keyup",this.__closeEscListener)},t.prototype.removeListeners=function(){var t,n,i=this.config.el.querySelectorAll("["+this.config.closeAttr+"]");try{for(var e=l(i),o=e.next();!o.done;o=e.next()){o.value.removeEventListener("click",this.__closeAttrListener)}}catch(n){t={error:n}}finally{try{o&&!o.done&&(n=e.return)&&n.call(e)}finally{if(t)throw t.error}}document.removeEventListener("keyup",this.__closeEscListener)},t.prototype.animationEndCallback=function(t,n,i,e){console.log("animationEndCallback",t),this.animation[t]=!1,this.config.dom[n]&&this.animation[n]||(this.pending=!1,i&&this.config.el.classList.remove(this.config.classes.visible),this.emitter.emit("Hide",this,e))},t.prototype.transitionEndCallback=function(t,n,i,e){console.log("transitionEndCallback",t),this.animation[t]=!1,this.config.dom[n]&&this.animation[n]||(this.pending=!1,i&&this.config.el.classList.remove(this.config.classes.visible),this.emitter.emit("Hide",this,e))},t.prototype.show=function(n){var i=this;if(!this.config.visible){var e=this.config.el,o=this.config.dom.container,s=this.config.dom.backdrop;this.pending&&(this.config.animations?(o.classList.add(this.config.classes.animation.cancel),null==s||s.classList.add(this.config.classes.animation.cancel)):this.config.transitions&&(o.classList.add(this.config.classes.transition.cancel),null==s||s.classList.add(this.config.classes.transition.cancel)),this.emitter.unsubscribe("containerAnimationEnd","backdropAnimationEnd")),this.emitter.emit("beforeShow",this),this.config.visible=!0,document.activeElement&&document.hasFocus()&&(t.blurEl=document.activeElement,document.activeElement.blur()),this.config.animations?(this.pending=!0,o.classList.remove(this.config.classes.animation.hide.container,this.config.classes.animation.cancel),null==s||s.classList.remove(this.config.classes.animation.hide.backdrop,this.config.classes.animation.cancel)):this.config.transitions&&(this.pending=!0,o.classList.remove(this.config.classes.transition.hide.container,this.config.classes.transition.cancel),null==s||s.classList.remove(this.config.classes.transition.hide.backdrop,this.config.classes.transition.cancel)),e.classList.add(this.config.classes.visible),this.config.animations?(this.animation.container=!0,o.classList.add(this.config.classes.animation.show.container),s&&(this.animation.backdrop=!0,s.classList.add(this.config.classes.animation.show.backdrop))):this.config.transitions&&(this.animation.container=!0,o.classList.add(this.config.classes.transition.show.container),s&&(this.animation.backdrop=!0,s.classList.add(this.config.classes.transition.show.backdrop))),this.addListeners(),document.body.style.overflow="hidden",document.body.style.height="100vh",this.config.animations?(this.emitter.once("containerAnimationEnd",(function(t){return i.animationEndCallback("container","backdrop",!1,t)})),this.emitter.once("backdropAnimationEnd",(function(t){return i.animationEndCallback("backdrop","container",!1,t)}))):this.config.transitions?(this.emitter.once("containerTransitionEnd",(function(t){return i.transitionEndCallback("container","backdrop",!1,t)})),this.emitter.once("backdropTransitionEnd",(function(t){return i.transitionEndCallback("backdrop","container",!1,t)}))):this.emitter.emit("afterShow",this)}},t.prototype.hide=function(n){var i=this;if(this.config.visible){var e=this.config.el,o=this.config.dom.container,s=this.config.dom.backdrop;this.pending&&(this.config.animations?(o.classList.add(this.config.classes.animation.cancel),null==s||s.classList.add(this.config.classes.animation.cancel)):this.config.transitions&&(o.classList.add(this.config.classes.transition.cancel),null==s||s.classList.add(this.config.classes.transition.cancel)),this.emitter.unsubscribe("containerAnimationEnd","backdropAnimationEnd"),this.pending=!1),this.emitter.emit("beforeHide",this),this.removeListeners(),this.config.visible=!1,this.config.animations?(this.pending=!0,this.animation.container=!0,o.classList.remove(this.config.classes.animation.show.container,this.config.classes.animation.cancel),s&&(this.animation.backdrop=!0,s.classList.remove(this.config.classes.animation.show.backdrop,this.config.classes.animation.cancel),s.classList.add(this.config.classes.animation.hide.backdrop)),o.classList.add(this.config.classes.animation.hide.container)):this.config.transitions&&(this.pending=!0,this.animation.container=!0,o.classList.remove(this.config.classes.transition.show.container,this.config.classes.transition.cancel),s&&(this.animation.backdrop=!0,s.classList.remove(this.config.classes.transition.show.backdrop,this.config.classes.transition.cancel),s.classList.add(this.config.classes.transition.hide.backdrop)),o.classList.add(this.config.classes.transition.hide.container)),t.blurEl&&t.blurEl.focus(),t.blurEl=null,document.body.style.overflow="",document.body.style.height="",this.config.animations?(this.emitter.once("backdropAnimationEnd",(function(t){return i.animationEndCallback("backdrop","container",!0,t)})),this.emitter.once("containerAnimationEnd",(function(t){return i.animationEndCallback("container","backdrop",!0,t)}))):this.config.transitions?(this.emitter.once("backdropTransitionEnd",(function(t){return i.transitionEndCallback("backdrop","container",!0,t)})),this.emitter.once("containerTransitionEnd",(function(t){return i.transitionEndCallback("container","backdrop",!0,t)}))):(this.emitter.emit("afterHide",this),e.classList.remove(this.config.classes.visible))}},t.blurEl=null,t}()}},n={};function i(e){if(n[e])return n[e].exports;var o=n[e]={exports:{}};return t[e](o,o.exports,i),o.exports}return i.d=function(t,n){for(var e in n)i.o(n,e)&&!i.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:n[e]})},i.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i(458)}()}));
//# sourceMappingURL=Modal.umd.min.js.map