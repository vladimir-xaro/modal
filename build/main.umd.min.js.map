{"version":3,"sources":["webpack://[name]/./node_modules/@xaro/event-emitter/src/index.ts","webpack://[name]/./node_modules/@xaro/event-emitter/src/EventEmitter.ts","webpack://[name]/./node_modules/@xaro/extend/index.js","webpack://[name]/./src/variables.ts","webpack://[name]/./node_modules/@xaro/css-class-animations/src/variables.ts","webpack://[name]/./node_modules/@xaro/css-class-animations/src/helpers.ts","webpack://[name]/./node_modules/@xaro/css-class-animations/src/index.ts","webpack://[name]/./node_modules/@xaro/css-class-animations/src/CSSClassAnimations.ts","webpack://[name]/./src/Backdrop.ts","webpack://[name]/./src/Modal.ts","webpack://[name]/./src/index.ts","webpack://[name]/webpack/bootstrap","webpack://[name]/webpack/startup","webpack://[name]/webpack/runtime/define property getters","webpack://[name]/webpack/runtime/hasOwnProperty shorthand","webpack://[name]/webpack/runtime/make namespace object"],"names":["on","events","key","this","subscribe","cb","has","removes","Array","isArray","_cb","push","removeListener","keys","idx","indexOf","splice","remove","hasOwnProperty","length","args","event","params","i","extend","to","Object","nextSource","keysArray","nextIndex","len","nextKey","desc","getOwnPropertyDescriptor","undefined","enumerable","isObject","o","constructor","defaults","id","el","visible","attr","close","target","allow","bodyScroll","closeEsc","closeAttr","closeOutside","classes","container","wrapper","mutation","timeout","animation","timeouts","transition","properties","selector","cancel","show","hide","common","backdrop","user","eventsListeners","animationstart","animationcancel","animationend","animationiteration","transitionstart","transitioncancel","transitionend","transitionrun","addTo","origin","value","document","querySelectorAll","Element","config","els","emitter","val","filter","includes","disallow","bind","addEventListener","emit","domEventKey","removeEventListener","classList","add","obj","style","eventKey","Backdrop","instances","index","createElement","body","append","end","unsubscribe","current","Modal","pending","_config","initConfig","querySelector","Error","getAttribute","containerEl","__closeAttrListener","__closeEscListener","__wrapperClickListener","force","stopPropagation","code","closeEls","clearTimeout","addClass","activeElement","hasFocus","blurEl","blur","removeClass","addListeners","setTimeout","overflow","height","once","mutationEndCallback","removeListeners","focus","__webpack_module_cache__","__webpack_require__","moduleId","exports","module","__webpack_modules__","d","definition","defineProperty","get","prop","prototype","call","r","Symbol","toStringTag"],"mappings":"8GAEA,MCAe,MAUb,YAAYA,EAAsC,IANlD,KAAAC,OAA+B,GAO7B,IAAK,IAAIC,KAAOF,EACVA,EAAGE,IACLC,KAAKC,UAAUF,EAAKF,EAAGE,IAS7B,UAAUA,EAAaG,GAChBF,KAAKG,IAAIJ,KACZC,KAAKF,OAAOC,GAAO,IAGrB,IAAIK,EAAoB,GAExB,GAAIC,MAAMC,QAAQJ,GAChB,IAAK,MAAMK,KAAOL,EAChBE,EAAQI,QAAQR,KAAKC,UAAUF,EAAKQ,SAGtCP,KAAKF,OAAOC,GAAKS,KAAKN,GACtBE,EAAQI,MAAK,IAAMR,KAAKS,eAAeV,EAAKG,KAG9C,OAAOE,EAQT,eAAeM,GACb,IAAK,MAAMX,KAAOW,EACZV,KAAKF,OAAOC,WACPC,KAAKF,OAAOC,GASzB,eAAeA,EAAaG,GAE1B,GAAIG,MAAMC,QAAQN,KAAKF,OAAOC,IAAO,CACnC,MAAMY,EAAMX,KAAKF,OAAOC,GAAKa,QAAQV,GAEjCS,GAAO,GACTX,KAAKF,OAAOC,GAAKc,OAAOF,EAAK,IASnC,KAAKZ,EAAaG,GAChB,MAAMY,EAASd,KAAKC,UAAUF,GAAK,KAEjC,GADAe,EAAO,KACHT,MAAMC,QAAQJ,GAChB,IAAK,MAAMK,KAAOL,EAChBK,SAGFL,OAUN,IAAIH,GACF,QAASC,KAAKF,OAAOC,GAQvB,cAAcA,GACZ,QAAMC,KAAKF,OAAOiB,eAAehB,IAI1BC,KAAKF,OAAOC,GAAKiB,OAO1B,KAAKjB,KAAgBkB,GACnB,MAAMC,EAAkBlB,KAAKF,OAAOC,GAEpC,GAAImB,EACF,IAAK,IAAIhB,KAAMgB,EACbhB,KAAMe,GAYZ,aAAalB,KAAgBkB,GAC3B,MAAMC,EAAkBlB,KAAKF,OAAOC,GAEpC,IAAMmB,EACJ,OAAO,EAGT,IAAI,MAAMhB,KAAMgB,EACd,IAAMhB,KAAMe,GACV,OAAO,EAIX,OAAO,EAST,WAAWlB,KAAgBkB,GACzB,MAAMC,EAAkBlB,KAAKF,OAAOC,GAEpC,IAAMmB,EACJ,OAGF,IAAIC,EAEJ,IAAK,IAAIC,EAAI,EAAGA,EAAIF,EAAMF,OAAQI,IAE9BD,EADQ,IAANC,EACOF,EAAME,MAAMH,GAEZC,EAAME,GAAGD,GAItB,OAAOA,IC1KI,SAASE,KAAUJ,GAChC,MAAMK,EAAKC,OAAON,EAAK,IACvB,IAAK,IAAIG,EAAI,EAAGA,EAAIH,EAAKD,OAAQI,GAAK,EAAG,CACvC,MAAMI,EAAaP,EAAKG,GACxB,GAAII,QAAiD,CACnD,MAAMC,EAAYF,OAAOb,KAAKa,OAAOC,IACrC,IAAK,IAAIE,EAAY,EAAGC,EAAMF,EAAUT,OAAQU,EAAYC,EAAKD,GAAa,EAAG,CAC/E,MAAME,EAAUH,EAAUC,GACpBG,EAAON,OAAOO,yBAAyBN,EAAYI,QAC5CG,IAATF,GAAsBA,EAAKG,aACzBC,EAASX,EAAGM,KAAaK,EAAST,EAAWI,IAC/CP,EAAOC,EAAGM,GAAUJ,EAAWI,KACrBK,EAASX,EAAGM,KAAaK,EAAST,EAAWI,KACvDN,EAAGM,GAAW,GACdP,EAAOC,EAAGM,GAAUJ,EAAWI,KAE/BN,EAAGM,GAAWJ,EAAWI,MAMnC,OAAON,EAGF,SAASW,EAASC,GACvB,MAAoB,iBAANA,GAAwB,OAANA,GAAcA,EAAEC,aAAeD,EAAEC,cAAgBZ,OCxB5E,MAAMa,EAAW,CACtBC,GAAU,KACVC,GAAU,KACVC,SAAU,EACVC,KAAM,CACJC,MAAY,mBACZC,OAAY,oBACZL,GAAY,iBAEdM,MAAO,CACLC,YAAc,EACdC,UAAc,EACdC,WAAc,EACdC,cAAc,GAEhBC,QAAS,CACPT,QAAY,kBAEdU,UAAW,CACTX,GAAY,KACZY,QAAY,KACZC,SAAY,YACZC,QAAY,KACZC,WAAY,EACZC,SAAU,CACRD,UAAW,EACXE,WAAY,KAEdC,WAAY,CACVC,SAAY,oBACZT,QAAS,CACPK,UAAW,CACTK,OAAU,0BACVC,KAAU,kCACVC,KAAU,mCAEZL,WAAY,CACVG,OAAU,2BACVC,KAAU,mCACVC,KAAU,oCAEZC,OAAQ,CACNF,KAAU,wBACVC,KAAU,4BAKlBE,SAAU,CACRX,SAAY,YACZG,SAAU,CACRD,UAAW,EACXE,WAAY,IAEdC,WAAY,CACVR,QAAS,CACPT,QAAY,0BACZc,UAAW,CACTK,OAAU,0BACVC,KAAU,iCACVC,KAAU,kCAEZL,WAAY,CACVG,OAAU,2BACVC,KAAU,kCACVC,KAAU,mCAEZC,OAAQ,CACNF,KAAU,uBACVC,KAAU,2BAKlBG,KAAM,IC5EKC,EAAkB,CAC7BC,eAAoB,0BACpBC,gBAAoB,2BACpBC,aAAoB,wBACpBC,mBAAoB,8BACpBC,gBAAoB,0BACpBC,iBAAoB,2BACpBC,cAAoB,wBACpBC,cAAoB,yBAGT1E,EAASyB,OAAOb,KAAKsD,GCX3B,SAASS,EAAMC,EAAmBC,GAClB,iBAAVA,EACTD,EAAOlE,QAAQoE,SAASC,iBAAiBF,IAChCA,aAAiBG,SAC1BJ,EAAOlE,KAAKmE,GCFhB,MCGe,MAKb,YAAYI,GAGV,GAPF,KAAAC,IAAsB,GAKpBhF,KAAKiF,QAAU,IAAI,EAAaF,EAAOlF,IAEnCQ,MAAMC,QAAQyE,EAAOzC,IACvB,IAAK,MAAM4C,KAAOH,EAAOzC,GACvBmC,EAAMzE,KAAKgF,IAAKE,QAGlBT,EAAMzE,KAAKgF,IAAKD,EAAOzC,IAGrByC,EAAOpC,MACT3C,KAAK2C,MAAQoC,EAAOpC,MAAMwC,QAAOR,GAAS7E,EAAOsF,SAAST,KACjDI,EAAOM,SAChBrF,KAAK2C,MAAQ7C,EAAOqF,QAAOR,IAAUI,EAAOM,SAAUD,SAAST,KAE/D3E,KAAK2C,MAAQ7C,EAGf,IAAK,MAAMC,KAAOiE,EAChBhE,KAAKgE,EAAgBjE,IAAQC,KAAKgE,EAAgBjE,IAAMuF,KAAKtF,MAG/D,IAAK,MAAMsC,KAAMtC,KAAKgF,IACpB,IAAK,MAAM9D,KAASlB,KAAK2C,MACvBL,EAAGiD,iBAAiBrE,EAAOlB,KAAKgE,EAAgB9C,KAK5C,wBAAwBA,GAChClB,KAAKiF,QAAQO,KAAK,QAASxF,KAAMkB,GAGzB,yBAAyBA,GACjClB,KAAKiF,QAAQO,KAAK,SAAUxF,KAAMkB,GAG1B,sBAAsBA,GAC9BlB,KAAKiF,QAAQO,KAAK,MAAOxF,KAAMkB,GAGvB,4BAA4BA,GACpClB,KAAKiF,QAAQO,KAAK,YAAaxF,KAAMkB,GAG7B,sBAAsBA,GAC9BlB,KAAKiF,QAAQO,KAAK,MAAOxF,KAAMkB,GAGjC,SAASuE,GACP,GAAMzF,KAAK2C,MAAMyC,SAASK,GAI1B,IAAK,MAAMnD,KAAMtC,KAAKgF,IACpB1C,EAAGiD,iBAAiBE,EAAazF,KAAKgE,EAAgByB,KAI1D,YAAYA,GACV,GAAMzF,KAAK2C,MAAMyC,SAASK,GAI1B,IAAK,MAAMnD,KAAMtC,KAAKgF,IACpB1C,EAAGoD,oBAAoBD,EAAazF,KAAKgE,EAAgByB,KAI7D,YAAYzC,GACV,IAAK,MAAMV,KAAMtC,KAAKgF,IACpB1C,EAAGqD,UAAUC,OAAO5C,GAGtB,OAAOhD,KAAKgF,IAGd,eAAehC,GACb,IAAK,MAAMV,KAAMtC,KAAKgF,IACpB1C,EAAGqD,UAAU7E,UAAUkC,GAGzB,OAAOhD,KAAKgF,IAGd,IAAIa,GACF,IAAK,MAAMvD,KAAMtC,KAAKgF,IACpB,IAAK,MAAMjF,KAAO8F,EACfvD,EAAmBwD,MAAM/F,GAAO8F,EAAI9F,GAGzC,OAAOC,KAAKgF,IAGd,GAAGe,EAA+B7F,GAChCF,KAAKiF,QAAQhF,UAAU8F,EAAU7F,KCrGrC,MAAM,EAAW,CACfoC,GAAY,KACZC,SAAY,EACZY,SAAY,YACZE,UAAY,KACZD,QAAY,MAGC,MAAM4C,EAWnB,YAAYjB,EAAc,IAMxB,GALAiB,EAASC,UAAUzF,KAAKR,MACxBA,KAAKkG,MAAQF,EAASC,UAAUjF,OAAS,EAEzChB,KAAK+E,OAAW1D,EAAO,GAAI,EAAU0D,IAE/B/E,KAAK+E,OAAOzC,GAAI,CACpB,MAAMA,EAAKsC,SAASuB,cAAc,OAClC7D,EAAGqD,UAAUC,IAAI,kBACjBhB,SAASwB,KAAKC,OAAO/D,GACrBtC,KAAK+E,OAAOzC,GAAKA,EAGnBtC,KAAKiF,QAAU,IAAI,EAEnBjF,KAAKqD,UAAY,IAAI,EAAmB,CACtCf,GAAMtC,KAAK+E,OAAOzC,GAClBK,MAAO,CACL,eACA,iBAEF9C,GAAI,CACFyG,IAAMpF,IACJlB,KAAKiF,QAAQO,KAAK,cAAexF,KAAMkB,OAkB/C,sBACElB,KAAKiF,QAAQsB,YAAY,gBApDpB,EAAAN,UAA+B,GAC/B,EAAAO,QAA+B,KCRzB,MAAMC,EAkBnB,YAAY1B,GAdF,KAAA2B,SAAgC,EAexCD,EAAMR,UAAUzF,OAChBR,KAAKkG,MAAQO,EAAMR,UAAUjF,OAAS,EAEtC,IAAI2F,EAAe3G,KAAK4G,WAAWxE,EAAU2C,GAM7C,GALA/E,KAAK+E,OAAS4B,EACd3G,KAAK+E,OAAOhB,KAAOgB,EAEnB/E,KAAKiF,QAAW,IAAI,EAAajF,KAAK+E,OAAOhB,KAAKlE,IAEzB,iBAAdkF,EAAOzC,GAAiB,CACjC,MAAMA,EAAKsC,SAASiC,cAAc9B,EAAOzC,IAEzC,IAAMA,EACJ,MAAM,IAAIwE,MAAM,2BAGlB9G,KAAK+E,OAAOzC,GAAKA,EAUnB,GAPMtC,KAAK+E,OAAO1C,KAChBrC,KAAK+E,OAAO1C,GAAKrC,KAAK+E,OAAOzC,GAAGyE,aAAa/G,KAAK+E,OAAOvC,KAAKH,KAAO,YAAcoE,EAAMR,UAAUjF,OAAS,IAG9GhB,KAAK8D,SAAWkC,EAASC,UAAUjF,OAASgF,EAASC,UAAUD,EAASC,UAAUjF,OAAS,GAAK,IAAIgF,GAG9FhG,KAAK+E,OAAO9B,UAAUX,GAAI,CAC9B,MAAM0E,EAAchH,KAAK+E,OAAOzC,GAAGuE,cAAc,qBAEjD,IAAMG,EACJ,MAAM,IAAIF,MAAM,qCAGlB9G,KAAK+E,OAAO9B,UAAUX,GAAK0E,EAIzBhH,KAAK+E,OAAOpC,MAAMG,YACpB9C,KAAKiH,oBAAmCjH,KAAKiH,oBAAoB3B,KAAKtF,OAIpEA,KAAK+E,OAAOpC,MAAME,WACpB7C,KAAKkH,mBAAmClH,KAAKkH,mBAAmB5B,KAAKtF,OAInEA,KAAK+E,OAAO9B,UAAUE,WAIxBnD,KAAKqD,UAAY,IAAI,EAAmB,CACtCf,GAAItC,KAAK+E,OAAO9B,UAAUX,GAC1BK,MAAO,CAAE3C,KAAK+E,OAAO9B,UAAUE,SAAW,OAC1CtD,GAAI,CACFyG,IAAMpF,IACJlB,KAAKiF,QAAQO,KAAK,uBAAwBxF,KAAMkB,QAOxD,IAAK,MAAMoB,KAAMsC,SAASC,iBAAiB,IAAI7E,KAAK+E,OAAOvC,KAAKE,WAC1DJ,EAAGyE,aAAa/G,KAAK+E,OAAOvC,KAAKE,UAAY1C,KAAK+E,OAAO1C,IAC3DC,EAAGiD,iBAAiB,SAAS,IAAMvF,KAAK2D,SAKxC3D,KAAK+E,OAAOpC,MAAMI,eACpB/C,KAAKmH,uBAAyBnH,KAAKmH,uBAAuB7B,KAAKtF,MAC/DA,KAAK+E,OAAOzC,GAAGiD,iBAAiB,QAASvF,KAAKmH,yBAGhDnH,KAAKiF,QAAQO,KAAK,OAAQxF,MAEtBA,KAAK+E,OAAOxC,SACdvC,KAAK2D,KAAK,CAAEyD,OAAO,IAKb,WAAW1C,EAAQX,GAC3B,IAAIgB,EAAS,GACb,IAAK,MAAMhF,KAAO2E,EACZX,EAAKhD,eAAehB,GAClBkC,EAASyC,EAAO3E,KAASkC,EAAS8B,EAAKhE,IACzCgF,EAAOhF,GAAOC,KAAK4G,WAAWlC,EAAO3E,GAAMgE,EAAKhE,IAEhDgF,EAAOhF,GAAOgE,EAAKhE,GAGrBgF,EAAOhF,GAAO2E,EAAO3E,GAGzB,OAAOgF,EAKC,uBAAuB7D,GAC3BA,EAAMwB,SAAW1C,KAAK+E,OAAOzC,KAC/BtC,KAAKiF,QAAQO,KAAK,eAAgBxF,KAAMkB,GACxClB,KAAK4D,QAMC,oBAAoB1C,GAC5BlB,KAAK4D,OACL5D,KAAKiF,QAAQO,KAAK,iBAAkBxF,KAAMkB,GAKlC,mBAAmBA,GAC3BA,EAAMmG,kBAEa,WAAfnG,EAAMoG,OACRtH,KAAK4D,OACL5D,KAAKiF,QAAQO,KAAK,SAAUxF,KAAMkB,IAY5B,eAER,GAAIlB,KAAK+E,OAAOpC,MAAMG,UAAW,CAC/B,MAAMyE,EAAWvH,KAAK+E,OAAOzC,GAAGuC,iBAAiB,IAAI7E,KAAK+E,OAAOvC,KAAKC,UACtE,IAAK,MAAMH,KAAMiF,EACfjF,EAAGiD,iBAAiB,QAASvF,KAAKiH,qBAIlCjH,KAAK+E,OAAOpC,MAAME,UACpB+B,SAASW,iBAAiB,QAASvF,KAAKkH,oBAMlC,kBAER,GAAIlH,KAAK+E,OAAOpC,MAAMG,UAAW,CAC/B,MAAMyE,EAAWvH,KAAK+E,OAAOzC,GAAGuC,iBAAiB,IAAI7E,KAAK+E,OAAOvC,KAAKC,UACtE,IAAK,MAAMH,KAAMiF,EACfjF,EAAGoD,oBAAoB,QAAS1F,KAAKiH,qBAIrCjH,KAAK+E,OAAOpC,MAAME,UACpB+B,SAASc,oBAAoB,QAAS1F,KAAKkH,oBAMrC,oBAAoBjE,EAAoBW,EAAe1C,GAC/D,GAAI+B,GAGF,GAFAjD,KAAK+E,OAAO9B,UAAUI,WAAY,EAE9BrD,KAAK8D,UAAY9D,KAAK8D,SAASiB,OAAO1B,UACxC,YAEG,GAAIrD,KAAK8D,WACd9D,KAAK8D,SAASiB,OAAO1B,WAAY,EAE7BrD,KAAK+E,OAAO9B,UAAUI,WACxB,OAIJrD,KAAK0G,SAAU,EAEX9C,IACF5D,KAAK+E,OAAOzC,GAAGqD,UAAU7E,OAAOd,KAAK+E,OAAO/B,QAAQT,SACpDvC,KAAK8D,UAAUiB,OAAOzC,GAAGqD,UAAU7E,OAAOd,KAAK+E,OAAOjB,SAASN,WAAWR,QAAQT,UAGpFvC,KAAKiF,QAAQO,KAAsB,OAAiBxF,KAAMkB,GAQ5D,KAAK6D,GACH,GAAI/E,KAAK+E,OAAOxC,UACRwC,GAAQqC,MACZ,OAIApH,KAAK+E,OAAO9B,UAAUG,SACxBoE,aAAaxH,KAAK+E,OAAO9B,UAAUG,SAEjCpD,KAAK8D,UAAY9D,KAAK8D,SAASiB,OAAO3B,SACxCoE,aAAaxH,KAAK8D,SAASiB,OAAO3B,SAGpC,MAAMd,EAAYtC,KAAK+E,OAAOzC,GACZtC,KAAK+E,OAAO9B,UAAUX,GAExC,GAAItC,KAAK0G,QAAS,CAChB,GAAI1G,KAAK+E,OAAO9B,UAAUE,SAAU,CAClC,MAAMpD,EAAMC,KAAK+E,OAAO9B,UAAUE,SAGlCnD,KAAKqD,UAAWoE,SAASzH,KAAK+E,OAAO9B,UAAUO,WAAWR,QAAQjD,GAAK2D,QAEzE,GAAI1D,KAAK8D,UAAY9D,KAAK+E,OAAOjB,SAASX,SAAU,CAClD,MAAMpD,EAAMC,KAAK+E,OAAOjB,SAASX,SAEjCnD,KAAK8D,SAAST,UAAUoE,SAASzH,KAAK+E,OAAOjB,SAASN,WAAWR,QAAQjD,GAAK2D,SAgBlF,GAVA1D,KAAKiF,QAAQO,KAAK,aAAcxF,MAEhCA,KAAK+E,OAAOxC,SAAU,EAElBqC,SAAS8C,eAAiB9C,SAAS+C,aACrClB,EAAMmB,OAAShD,SAAS8C,cACvB9C,SAAS8C,cAA8BG,QAG1C7H,KAAK0G,SAAU,EACX1G,KAAK+E,OAAO9B,UAAUE,SAAU,CAClC,MAAMpD,EAAMC,KAAK+E,OAAO9B,UAAUE,SAElCnD,KAAKqD,UAAWyE,YAAY9H,KAAK+E,OAAO9B,UAAUO,WAAWR,QAAQjD,GAAK6D,KAAM5D,KAAK+E,OAAO9B,UAAUO,WAAWR,QAAQjD,GAAK2D,QAEhI,GAAI1D,KAAK8D,UAAY9D,KAAK+E,OAAOjB,SAASX,SAAU,CAClD,MAAMpD,EAAMC,KAAK+E,OAAOjB,SAASX,SAEjCnD,KAAK8D,SAAST,UAAUyE,YAAY9H,KAAK+E,OAAOjB,SAASN,WAAWR,QAAQjD,GAAK6D,KAAM5D,KAAK+E,OAAOjB,SAASN,WAAWR,QAAQjD,GAAK2D,QAOtI,GAJApB,EAAGqD,UAAUC,IAAI5F,KAAK+E,OAAO/B,QAAQT,SAErCvC,KAAK+H,eAED/H,KAAK+E,OAAO9B,UAAUE,SAAU,CAClC,MAAMpD,EAAMC,KAAK+E,OAAO9B,UAAUE,SAElCnD,KAAK+E,OAAO9B,UAAUI,WAAY,GAC7BrD,KAAK+E,OAAO9B,UAAUK,SAASvD,GAAO,EACzCC,KAAK+E,OAAO9B,UAAUG,QAAU4E,YAAW,KAEzChI,KAAKqD,UAAWoE,SAASzH,KAAK+E,OAAO9B,UAAUO,WAAWR,QAAQjD,GAAK4D,QACtE3D,KAAK+E,OAAO9B,UAAUK,SAASvD,IAGlCC,KAAKqD,UAAWoE,SAASzH,KAAK+E,OAAO9B,UAAUO,WAAWR,QAAQjD,GAAK4D,WAIzE3D,KAAKqD,UAAWoE,SAASzH,KAAK+E,OAAO9B,UAAUO,WAAWR,QAAQa,OAAOF,MAE3E,GAAI3D,KAAK8D,SAEP,GADA9D,KAAK8D,SAASiB,OAAOzC,GAAGqD,UAAUC,IAAI5F,KAAK+E,OAAOjB,SAASN,WAAWR,QAAQT,SAC1EvC,KAAK+E,OAAOjB,SAASX,SAAU,CACjC,MAAMpD,EAAMC,KAAK+E,OAAOjB,SAASX,SAEjCnD,KAAK8D,SAASiB,OAAO1B,WAAY,GAC5BrD,KAAK+E,OAAOjB,SAASR,SAASvD,GAAO,EACxCC,KAAK8D,SAASiB,OAAO3B,QAAU4E,YAAW,KAExChI,KAAK8D,SAAUT,UAAUoE,SAASzH,KAAK+E,OAAOjB,SAASN,WAAWR,QAAQjD,GAAK4D,QAC9E3D,KAAK+E,OAAOjB,SAASR,SAASvD,IAGjCC,KAAK8D,SAAUT,UAAUoE,SAASzH,KAAK+E,OAAOjB,SAASN,WAAWR,QAAQjD,GAAK4D,WAIjF3D,KAAK8D,SAAUT,UAAUoE,SAASzH,KAAK+E,OAAOjB,SAASN,WAAWR,QAAQa,OAAOF,MAI/E3D,KAAK+E,OAAOpC,MAAMC,aACtBgC,SAASwB,KAAKN,MAAMmC,SAAY,SAChCrD,SAASwB,KAAKN,MAAMoC,OAAY,SAG9BlI,KAAK+E,OAAO9B,UAAUE,UACxBnD,KAAKiF,QAAQkD,KAAK,wBAAwBjH,GAASlB,KAAKoI,qBAAoB,GAAM,EAAOlH,KAEvFlB,KAAK8D,UAAY9D,KAAK+E,OAAOjB,SAASX,UACxCnD,KAAK8D,SAASmB,QAAQkD,KAAK,eAAejH,GAASlB,KAAKoI,qBAAoB,GAAO,EAAOlH,KAEvFlB,KAAK+E,OAAO9B,UAAUE,UAAanD,KAAK+E,OAAOjB,SAASX,UAC3DnD,KAAKiF,QAAQO,KAAK,YAAaxF,MASnC,KAAK+E,GACH,IAAM/E,KAAK+E,OAAOxC,UACVwC,GAAQqC,MACZ,OAIApH,KAAK+E,OAAO9B,UAAUG,SACxBoE,aAAaxH,KAAK+E,OAAO9B,UAAUG,SAEjCpD,KAAK8D,UAAY9D,KAAK8D,SAASiB,OAAO3B,SACxCoE,aAAaxH,KAAK8D,SAASiB,OAAO3B,SAGpC,MAAMd,EAAYtC,KAAK+E,OAAOzC,GACxBW,EAAYjD,KAAK+E,OAAO9B,UAAUX,GAExC,GAAItC,KAAK0G,QAAS,CAChB,GAAI1G,KAAK+E,OAAO9B,UAAUE,SAAU,CAClC,MAAMpD,EAAMC,KAAK+E,OAAO9B,UAAUE,SAClCF,EAAU0C,UAAUC,IAAI5F,KAAK+E,OAAO9B,UAAUO,WAAWR,QAAQjD,GAAK2D,QAExE,GAAI1D,KAAK8D,UAAY9D,KAAK+E,OAAOjB,SAASX,SAAU,CAClD,MAAMpD,EAAMC,KAAK+E,OAAOjB,SAASX,SACjCnD,KAAK8D,SAASiB,OAAOzC,GAAGqD,UAAUC,IAAI5F,KAAK+E,OAAOjB,SAASN,WAAWR,QAAQjD,GAAK2D,QACnF1D,KAAK8D,SAASmB,QAAQsB,YAAY,eAEpCvG,KAAKiF,QAAQsB,YAAY,wBAU3B,GAPAvG,KAAKiF,QAAQO,KAAK,aAAcxF,MAEhCA,KAAKqI,kBAELrI,KAAK+E,OAAOxC,SAAU,EAEtBvC,KAAK0G,SAAU,EACX1G,KAAK+E,OAAO9B,UAAUE,SAAU,CAClC,MAAMpD,EAAMC,KAAK+E,OAAO9B,UAAUE,SAClCnD,KAAK+E,OAAO9B,UAAUI,WAAY,EAClCJ,EAAU0C,UAAU7E,OAAOd,KAAK+E,OAAO9B,UAAUO,WAAWR,QAAQjD,GAAK4D,KAAM3D,KAAK+E,OAAO9B,UAAUO,WAAWR,QAAQjD,GAAK2D,QAC7HT,EAAU0C,UAAUC,IAAI5F,KAAK+E,OAAO9B,UAAUO,WAAWR,QAAQjD,GAAK6D,WAEtEX,EAAU0C,UAAU7E,OAAOd,KAAK+E,OAAO9B,UAAUO,WAAWR,QAAQa,OAAOF,MAE7E,GAAI3D,KAAK8D,SACP,GAAI9D,KAAK+E,OAAOjB,SAASX,SAAU,CACjC,MAAMpD,EAAMC,KAAK+E,OAAOjB,SAASX,SACjCnD,KAAK8D,SAASiB,OAAO1B,WAAY,EACjCrD,KAAK8D,SAASiB,OAAOzC,GAAGqD,UAAU7E,OAAOd,KAAK+E,OAAOjB,SAASN,WAAWR,QAAQjD,GAAK4D,KAAM3D,KAAK+E,OAAOjB,SAASN,WAAWR,QAAQjD,GAAK2D,QACzI1D,KAAK8D,SAASiB,OAAOzC,GAAGqD,UAAUC,IAAI5F,KAAK+E,OAAOjB,SAASN,WAAWR,QAAQjD,GAAK6D,WAEnF5D,KAAK8D,SAASiB,OAAOzC,GAAGqD,UAAU7E,OAAOd,KAAK+E,OAAOjB,SAASN,WAAWR,QAAQa,OAAOF,MAIxF8C,EAAMmB,QACPnB,EAAMmB,OAAuBU,QAEhC7B,EAAMmB,OAAS,KAET5H,KAAK+E,OAAOpC,MAAMC,aACtBgC,SAASwB,KAAKN,MAAMmC,SAAY,GAChCrD,SAASwB,KAAKN,MAAMoC,OAAY,IAG9BlI,KAAK+E,OAAO9B,UAAUE,UACxBnD,KAAKiF,QAAQkD,KAAK,wBAAwBjH,GAASlB,KAAKoI,qBAAoB,GAAM,EAAMlH,KAEtFlB,KAAK8D,UAAY9D,KAAK+E,OAAOjB,SAASX,UACxCnD,KAAK8D,SAASmB,QAAQkD,KAAK,eAAejH,GAASlB,KAAKoI,qBAAoB,GAAO,EAAMlH,KAGvFlB,KAAK8D,SACD9D,KAAK+E,OAAO9B,UAAUE,UAAanD,KAAK+E,OAAOjB,SAASX,WAC5Db,EAAGqD,UAAU7E,OAAOd,KAAK+E,OAAO/B,QAAQT,SACxCvC,KAAKiF,QAAQO,KAAK,YAAaxF,OAG3BA,KAAK+E,OAAO9B,UAAUE,WAC1Bb,EAAGqD,UAAU7E,OAAOd,KAAK+E,OAAO/B,QAAQT,SACxCvC,KAAKiF,QAAQO,KAAK,YAAaxF,OAUrC,OAAO+E,GACL/E,KAAK+E,OAAOxC,QAAUvC,KAAK4D,KAAKmB,GAAU/E,KAAK2D,KAAKoB,IAva/C,EAAAkB,UAAmC,GACnC,EAAA2B,OAAmC,KCP5C,UCDIW,EAA2B,GAG/B,SAASC,EAAoBC,GAE5B,GAAGF,EAAyBE,GAC3B,OAAOF,EAAyBE,GAAUC,QAG3C,IAAIC,EAASJ,EAAyBE,GAAY,CAGjDC,QAAS,IAOV,OAHAE,EAAoBH,GAAUE,EAAQA,EAAOD,QAASF,GAG/CG,EAAOD,QCjBf,OCFAF,EAAoBK,EAAI,SAASH,EAASI,GACzC,IAAI,IAAI/I,KAAO+I,EACXN,EAAoBtG,EAAE4G,EAAY/I,KAASyI,EAAoBtG,EAAEwG,EAAS3I,IAC5EwB,OAAOwH,eAAeL,EAAS3I,EAAK,CAAEiC,YAAY,EAAMgH,IAAKF,EAAW/I,MCJ3EyI,EAAoBtG,EAAI,SAAS2D,EAAKoD,GAAQ,OAAO1H,OAAO2H,UAAUnI,eAAeoI,KAAKtD,EAAKoD,ICC/FT,EAAoBY,EAAI,SAASV,GACX,oBAAXW,QAA0BA,OAAOC,aAC1C/H,OAAOwH,eAAeL,EAASW,OAAOC,YAAa,CAAE3E,MAAO,WAE7DpD,OAAOwH,eAAeL,EAAS,aAAc,CAAE/D,OAAO,KHFhD6D,EAAoB,K","file":"main.umd.min.js","sourcesContent":["import EventEmitter from \"./EventEmitter\";\n\nexport default EventEmitter;\n\nexport {\n  I_EventEmitter,\n  I_EventEmitterEvents,\n  I_EventEmitterConstructorConfig,\n  T_Func\n} from \"./types\";","import { I_EventEmitter, I_EventEmitterConstructorConfig, I_EventEmitterEvents, T_Func } from './types';\n\nexport default class EventEmitter implements I_EventEmitter {\n  /**\n   * Event list\n   */\n  events: I_EventEmitterEvents = {};\n\n\n  /**\n   * Create Emitter\n   */\n  constructor(on: I_EventEmitterConstructorConfig = {}) {\n    for (let key in on) {\n      if (on[key]) {\n        this.subscribe(key, on[key] as T_Func | T_Func[]);\n      }\n    }\n  }\n\n\n  /**\n   * Creates a key for the event and subscribes the passed callback to it.\n   */\n  subscribe(key: string, cb: T_Func | T_Func[]): T_Func[] {\n    if (!this.has(key)) {\n      this.events[key] = [];\n    }\n\n    let removes: T_Func[] = [];\n\n    if (Array.isArray(cb)) {\n      for (const _cb of cb) {\n        removes.push(...this.subscribe(key, _cb));\n      }\n    } else {\n      this.events[key].push(cb);\n      removes.push(() => this.removeListener(key, cb));\n    }\n\n    return removes;\n  }\n\n\n  /**\n   * Unsubscribes all callback functions from the event and removes the event\n   * key.\n   */\n  unsubscribe(...keys: string[]): void {\n    for (const key of keys) {\n      if (this.events[key]) {\n        delete this.events[key];\n      }\n    }\n  }\n\n\n  /**\n   * Removes a specific event key callback function.\n   */\n  removeListener(key: string, cb: T_Func): void {\n    // if (typeof this.events[key] === 'object') {\n    if (Array.isArray(this.events[key])) {\n      const idx = this.events[key].indexOf(cb);\n\n      if (idx > -1) {\n        this.events[key].splice(idx, 1);\n      }\n    }\n  }\n\n\n  /**\n   * Calls the callback function only once, and then removes it.\n   */\n  once(key: string, cb: T_Func | T_Func[]): void {\n    const remove = this.subscribe(key, () => {\n      remove[0]();\n      if (Array.isArray(cb)) {\n        for (const _cb of cb) {\n          _cb();\n        }\n      } else {\n        cb();\n      }\n    })\n  }\n\n\n  /**\n   * Checks for an event by key.\n   * (Doesn't check for callback functions)\n   */\n  has(key: string): boolean {\n    return !!this.events[key];\n  }\n\n\n  /**\n   * Returns the number of callback functions for the event key or \"false\" if\n   * there is no key\n   */\n  listenerCount(key: string): number | false {\n    if (! this.events.hasOwnProperty(key)) {\n      return false\n    }\n\n    return this.events[key].length;\n  }\n\n\n  /**\n   * Calls all callback functions on events using the event key.\n   */\n  emit(key: string, ...args: any): void {\n    const event: T_Func[] = this.events[key];\n\n    if (event) {\n      for (let cb of event) {\n        cb(...args);\n      }\n    }\n  }\n\n\n  /**\n   * Just like \"emit\" calls all callback functions. However, the callback must\n   * return a boolean value, which determines whether or not the next callback\n   * will execute.\n   * As a result, it returns the result of the last executed callback function.\n   */\n  validateEmit(key: string, ...args: any): boolean {\n    const event: T_Func[] = this.events[key];\n\n    if (! event) {\n      return false;\n    }\n\n    for(const cb of event) {\n      if (! cb(...args)) {\n        return false;\n      }\n    }\n    \n    return true;\n  }\n\n\n  /**\n   * Just like \"emit\" calls all callbacks, but unlike \"emit\" it passes the\n   * result of the previous callback to the next one as an argument.\n   * As aresult, it will return the result of the last callback.\n   */\n  seriesEmit(key: string, ...args: any): any {\n    const event: T_Func[] = this.events[key];\n\n    if (! event) {\n      return;\n    }\n\n    let params: any;\n\n    for (let i = 0; i < event.length; i++) {\n      if (i === 0) {\n        params = event[i](...args);\n      } else {\n        params = event[i](params);\n      }\n    }\n\n    return params;\n  }\n}","export default function extend(...args) {\n  const to = Object(args[0]);\n  for (let i = 1; i < args.length; i += 1) {\n    const nextSource = args[i];\n    if (nextSource !== undefined && nextSource !== null) {\n      const keysArray = Object.keys(Object(nextSource));\n      for (let nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex += 1) {\n        const nextKey = keysArray[nextIndex];\n        const desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\n        if (desc !== undefined && desc.enumerable) {\n          if (isObject(to[nextKey]) && isObject(nextSource[nextKey])) {\n            extend(to[nextKey], nextSource[nextKey]);\n          } else if (!isObject(to[nextKey]) && isObject(nextSource[nextKey])) {\n            to[nextKey] = {};\n            extend(to[nextKey], nextSource[nextKey]);\n          } else {\n            to[nextKey] = nextSource[nextKey];\n          }\n        }\n      }\n    }\n  }\n  return to;\n}\n\nexport function isObject(o) {\n  return typeof o === 'object' && o !== null && o.constructor && o.constructor === Object;\n}","import { T_Mutation } from \"./types\";\n\nexport const defaults = {\n  id:       null,\n  el:       null,\n  visible:  false,\n  attr: {\n    close:      'data-modal-close',\n    target:     'data-modal-target',\n    id:         'data-modal-id',\n  },\n  allow: {\n    bodyScroll:   false,\n    closeEsc:     true,\n    closeAttr:    true,\n    closeOutside: true,\n  },\n  classes: {\n    visible:    'modal--visible',\n  },\n  container: {\n    el:         null,\n    wrapper:    null,\n    mutation:   'animation',\n    timeout:    null,\n    animation:  false,\n    timeouts: {\n      animation: 0,\n      transition: 100,\n    },\n    properties: {\n      selector:   '.modal__container',\n      classes: {\n        animation: {\n          cancel:   'modal-animation--cancel',\n          show:     'modal-animation-container--show',\n          hide:     'modal-animation-container--hide',\n        },\n        transition: {\n          cancel:   'modal-transition--cancel',\n          show:     'modal-transition-container--show',\n          hide:     'modal-transition-container--hide',\n        },\n        common: {\n          show:     'modal-container--hide',\n          hide:     'modal-container--hide',\n        }\n      }\n    }\n  },\n  backdrop: {\n    mutation:   'animation',\n    timeouts: {\n      animation: 0,\n      transition: 50,\n    },\n    properties: {\n      classes: {\n        visible:    'modal-backdrop--visible',\n        animation: {\n          cancel:   'modal-animation--cancel',\n          show:     'modal-animation-backdrop--show',\n          hide:     'modal-animation-backdrop--hide',\n        },\n        transition: {\n          cancel:   'modal-transition--cancel',\n          show:     'modal-transition-backdrop--show',\n          hide:     'modal-transition-backdrop--hide',\n        },\n        common: {\n          show:     'modal-backdrop--show',\n          hide:     'modal-backdrop--hide',\n        }\n      }\n    }\n  },\n  user: {}\n};","export const eventsListeners = {\n  animationstart:     '__mutationStartListener',\n  animationcancel:    '__mutationCancelListener',\n  animationend:       '__mutationEndListener',\n  animationiteration: '__mutationIterationListener',\n  transitionstart:    '__mutationStartListener',\n  transitioncancel:   '__mutationCancelListener',\n  transitionend:      '__mutationEndListener',\n  transitionrun:      '__mutationRunListener'\n};\n\nexport const events = Object.keys(eventsListeners);","export function addTo(origin: Element[], value: Element | Element[] | string | string[]) {\n  if (typeof value === 'string') {\n    origin.push(...document.querySelectorAll(value));\n  } else if (value instanceof Element) {\n    origin.push(value);\n  }\n}","import CSSClassAnimations from \"./CSSClassAnimations\";\n\nexport default CSSClassAnimations;\n\nexport {\n  I_CSSClassAnimations,\n  I_CSSClassAnimationsConstructorConfig,\n  T_DOMEventsKeys,\n  T_EmitterEventsKeys\n} from \"./types\";","import { I_CSSClassAnimations as I_CSSClassAnimations, I_CSSClassAnimationsConstructorConfig, T_DOMEventsKeys, T_EmitterEventsKeys } from \"./types\";\nimport EventEmitter, { I_EventEmitter, T_Func } from \"@xaro/event-emitter\";\nimport { events, eventsListeners } from \"./variables\";\nimport { addTo } from \"./helpers\";\n\nexport default class CSSClassAnimations implements I_CSSClassAnimations {\n  els:      Element[] = [];\n  emitter:  I_EventEmitter;\n  allow:    string[];\n\n  constructor(config: I_CSSClassAnimationsConstructorConfig) {\n    this.emitter = new EventEmitter(config.on);\n    \n    if (Array.isArray(config.el)) {\n      for (const val of config.el) {\n        addTo(this.els, val);\n      }\n    } else {\n      addTo(this.els, config.el);\n    }\n\n    if (config.allow) {\n      this.allow = config.allow.filter(value => events.includes(value));\n    } else if (config.disallow) {\n      this.allow = events.filter(value => !config.disallow!.includes(value as T_DOMEventsKeys));\n    } else {\n      this.allow = events;\n    }\n\n    for (const key in eventsListeners) {\n      this[eventsListeners[key]] = this[eventsListeners[key]].bind(this);\n    }\n\n    for (const el of this.els) {\n      for (const event of this.allow) {\n        el.addEventListener(event, this[eventsListeners[event]]);\n      }\n    }\n  }\n\n  protected __mutationStartListener(event: AnimationEvent | TransitionEvent) {\n    this.emitter.emit('start', this, event);\n  }\n\n  protected __mutationCancelListener(event: AnimationEvent | TransitionEvent) {\n    this.emitter.emit('cancel', this, event);\n  }\n\n  protected __mutationEndListener(event: AnimationEvent | TransitionEvent) {\n    this.emitter.emit('end', this, event);\n  }\n\n  protected __mutationIterationListener(event: AnimationEvent | TransitionEvent) {\n    this.emitter.emit('iteration', this, event);\n  }\n\n  protected __mutationRunListener(event: AnimationEvent | TransitionEvent) {\n    this.emitter.emit('run', this, event);\n  }\n\n  addEvent(domEventKey: T_DOMEventsKeys) {\n    if (! this.allow.includes(domEventKey)) {\n      return;\n    }\n\n    for (const el of this.els) {\n      el.addEventListener(domEventKey, this[eventsListeners[domEventKey]]);\n    }\n  }\n\n  removeEvent(domEventKey: T_DOMEventsKeys) {\n    if (! this.allow.includes(domEventKey)) {\n      return;\n    }\n\n    for (const el of this.els) {\n      el.removeEventListener(domEventKey, this[eventsListeners[domEventKey]]);\n    }\n  }\n\n  addClass(...classes: string[]): Element[] {\n    for (const el of this.els) {\n      el.classList.add(...classes);\n    }\n\n    return this.els;\n  }\n\n  removeClass(...classes: string[]): Element[] {\n    for (const el of this.els) {\n      el.classList.remove(...classes);\n    }\n\n    return this.els;\n  }\n\n  css(obj: object): Element[] {\n    for (const el of this.els) {\n      for (const key in obj) {\n        (el as HTMLElement).style[key] = obj[key];\n      }\n    }\n    return this.els;\n  }\n\n  on(eventKey: T_EmitterEventsKeys, cb: T_Func | T_Func[]) {\n    this.emitter.subscribe(eventKey, cb);\n  }\n}","import CSSClassAnimations, { I_CSSClassAnimations } from \"@xaro/css-class-animations\";\nimport EventEmitter, { I_EventEmitter } from \"@xaro/event-emitter\";\nimport extend from \"@xaro/extend\";\nimport { I_Backdrop, I_BackdropConfig, T_Mutation } from \"./types\";\n\nconst defaults = {\n  el:         null,\n  visible:    false,\n  mutation:   'animation',\n  animation:  null,\n  timeout:    null,\n}\n\nexport default class Backdrop implements I_Backdrop {\n  static instances: I_Backdrop[]      = [];\n  static current:   I_Backdrop | null = null;\n  index: number;\n\n  emitter:    I_EventEmitter;\n\n  config: I_BackdropConfig;\n\n  animation:  I_CSSClassAnimations;\n\n  constructor(config: any = {}) {\n    Backdrop.instances.push(this);\n    this.index = Backdrop.instances.length - 1;\n\n    this.config   = extend({}, defaults, config);\n\n    if (! this.config.el) {\n      const el = document.createElement('div');\n      el.classList.add('modal-backdrop');\n      document.body.append(el);\n      this.config.el = el;\n    }\n\n    this.emitter = new EventEmitter();\n\n    this.animation = new CSSClassAnimations({\n      el:   this.config.el,\n      allow: [\n        'animationend',\n        'transitionend'\n      ],\n      on: {\n        end: (event: AnimationEvent | TransitionEvent) => {\n          this.emitter.emit('mutationEnd', this, event);\n        }\n      }\n    });\n\n    // TODO: CSSClassAnimations refactoring\n    // this.__mutationEndListener = this.__mutationEndListener.bind(this);\n    // this.config.el.addEventListener('animationend', this.__mutationEndListener as EventListener);\n    // this.config.el.addEventListener('transitionend', this.__mutationEndListener as EventListener);\n  }\n\n  // TODO: CSSClassAnimations refactoring\n  // protected __mutationEndListener(event: TransitionEvent | AnimationEvent): void {\n  //   // this.config.animation = false;\n  //   this.emitter.emit('mutationEnd', this, event);\n  // }\n\n\n  unsubscribeMutation() {\n    this.emitter.unsubscribe('mutationEnd');\n  }\n}","import { I_Backdrop, I_Modal, I_ModalConfig, I_ModalConstructorConfig, I_ModalDisplayConfig } from \"./types\";\nimport EventEmitter, { I_EventEmitter } from \"@xaro/event-emitter\";\nimport { isObject } from \"@xaro/extend\";\nimport { defaults } from \"./variables\";\nimport Backdrop from \"./Backdrop\";\nimport CSSClassAnimations, { I_CSSClassAnimations, T_DOMEventsKeys } from \"@xaro/css-class-animations\";\n\nexport default class Modal implements I_Modal {\n  static instances:       I_Modal[]       = [];\n  static blurEl:          Element | null  = null;\n\n  protected pending:      boolean         = false;\n\n  emitter:    I_EventEmitter;\n  config:     I_ModalConfig;\n\n  index:      number;\n  backdrop:   I_Backdrop | null;\n\n  animation?: I_CSSClassAnimations;\n\n  /**\n   * Create Modal\n   * @param config I_ModalConstructorConfig\n   */\n  constructor(config: I_ModalConstructorConfig) {\n    Modal.instances.push();\n    this.index = Modal.instances.length - 1;\n\n    let _config: any = this.initConfig(defaults, config);\n    this.config = _config;\n    this.config.user = config;\n\n    this.emitter  = new EventEmitter(this.config.user.on);\n\n    if (typeof config.el === 'string') {\n      const el = document.querySelector(config.el);\n\n      if (! el) {\n        throw new Error(\"Element does not exists\");\n      }\n\n      this.config.el = el;\n    }\n\n    if (! this.config.id) {\n      this.config.id = this.config.el.getAttribute(this.config.attr.id) || '__modal-' + (Modal.instances.length - 1);\n    }\n\n    this.backdrop = Backdrop.instances.length ? Backdrop.instances[Backdrop.instances.length - 1] : new Backdrop();\n\n    // set container el\n    if (! this.config.container.el) {\n      const containerEl = this.config.el.querySelector('.modal__container');\n      \n      if (! containerEl) {\n        throw new Error('[Modal] Container does not exists');\n      }\n\n      this.config.container.el = containerEl;\n    }\n\n    // close by data-attribute\n    if (this.config.allow.closeAttr) {\n      this.__closeAttrListener              = this.__closeAttrListener.bind(this);\n    }\n\n    // close by escape key\n    if (this.config.allow.closeEsc) {\n      this.__closeEscListener               = this.__closeEscListener.bind(this);\n    }\n\n    // add animation-/transition- end listener to container\n    if (this.config.container.mutation) {\n      // this.__containerMutationEndListener = this.__containerMutationEndListener.bind(this);\n      // this.config.container.el.addEventListener(this.config.container.mutation + 'end', this.__containerMutationEndListener);\n      // TODO: CSSClassAnimations refactoring\n      this.animation = new CSSClassAnimations({\n        el: this.config.container.el,\n        allow: [ this.config.container.mutation + 'end' as T_DOMEventsKeys ],\n        on: {\n          end: (event: AnimationEvent | TransitionEvent) => {\n            this.emitter.emit('containerMutationEnd', this, event);\n          }\n        }\n      });\n    }\n\n    // trigger attr\n    for (const el of document.querySelectorAll(`[${this.config.attr.target}]`)) {\n      if (el.getAttribute(this.config.attr.target) === this.config.id) {\n        el.addEventListener('click', () => this.show());\n      }\n    }\n\n    // allow click outside container\n    if (this.config.allow.closeOutside) {\n      this.__wrapperClickListener = this.__wrapperClickListener.bind(this);\n      this.config.el.addEventListener('click', this.__wrapperClickListener as EventListener);\n    }\n\n    this.emitter.emit('init', this);\n    \n    if (this.config.visible) {\n      this.show({ force: true });\n    }\n  }\n\n\n  protected initConfig(origin, user) {\n    let config = {};\n    for (const key in origin) {\n      if (user.hasOwnProperty(key)) {\n        if (isObject(origin[key]) && isObject(user[key])) {\n          config[key] = this.initConfig(origin[key], user[key]);\n        } else {\n          config[key] = user[key];\n        }\n      } else {\n        config[key] = origin[key];\n      }\n    }\n    return config;\n  }\n\n\n  /** DOM wrapper click listener */\n  protected __wrapperClickListener(event: MouseEvent) {\n    if (event.target === this.config.el) {\n      this.emitter.emit('outsideClick', this, event);\n      this.hide();\n    }\n  }\n\n\n  /** DOM close attributes Listeners */\n  protected __closeAttrListener(event: MouseEvent): void {\n    this.hide();\n    this.emitter.emit('closeAttrClick', this, event);\n  }\n\n\n  /** DOM Escape listener */\n  protected __closeEscListener(event: KeyboardEvent): void {\n    event.stopPropagation();\n\n    if (event.code === 'Escape') {\n      this.hide()\n      this.emitter.emit('escKey', this, event);\n    }\n  }\n\n\n  /** Animation/Transition container listener */\n  // protected __containerMutationEndListener(event: any): void {\n  //   this.emitter.emit('containerMutationEnd', this, event);\n  // }\n\n\n  /** Add DOM Event Listeners */\n  protected addListeners(): void {\n    // attr\n    if (this.config.allow.closeAttr) {\n      const closeEls = this.config.el.querySelectorAll(`[${this.config.attr.close}]`);\n      for (const el of closeEls) {\n        el.addEventListener('click', this.__closeAttrListener as EventListener);\n      }\n    }\n    // esc\n    if (this.config.allow.closeEsc) {\n      document.addEventListener('keyup', this.__closeEscListener);\n    }\n  }\n\n\n  /** Remove DOM Event Listeners */\n  protected removeListeners(): void {\n    // attr\n    if (this.config.allow.closeAttr) {\n      const closeEls = this.config.el.querySelectorAll(`[${this.config.attr.close}]`);\n      for (const el of closeEls) {\n        el.removeEventListener('click', this.__closeAttrListener as EventListener);\n      }\n    }\n    // esc\n    if (this.config.allow.closeEsc) {\n      document.removeEventListener('keyup', this.__closeEscListener);\n    }\n  }\n\n\n  /** show/hide mutation end callback */\n  protected mutationEndCallback(container: boolean, hide: boolean, event: AnimationEvent | TransitionEvent) {\n    if (container) {\n      this.config.container.animation = false;\n\n      if (this.backdrop && this.backdrop.config.animation) {\n        return;\n      }\n    } else if (this.backdrop) {\n      this.backdrop.config.animation = false;\n\n      if (this.config.container.animation) {\n        return;\n      }\n    }\n\n    this.pending = false;\n\n    if (hide) {\n      this.config.el.classList.remove(this.config.classes.visible);\n      this.backdrop?.config.el.classList.remove(this.config.backdrop.properties.classes.visible);\n    }\n\n    this.emitter.emit('after' + hide ? 'Hide' : 'Show', this, event);\n  }\n\n\n  /**\n   * Show modal\n   * @param config I_ModalDisplayConfig\n   */\n  show(config?: I_ModalDisplayConfig) {\n    if (this.config.visible) {\n      if (! config?.force) {\n        return;\n      }\n    }\n\n    if (this.config.container.timeout) {\n      clearTimeout(this.config.container.timeout);\n    }\n    if (this.backdrop && this.backdrop.config.timeout) {\n      clearTimeout(this.backdrop.config.timeout);\n    }\n\n    const el        = this.config.el;\n    const container = this.config.container.el;\n\n    if (this.pending) {\n      if (this.config.container.mutation) {\n        const key = this.config.container.mutation;\n        // container.classList.add(this.config.container.properties.classes[key].cancel);\n        // TODO: CSSClassAnimations refactoring\n        this.animation!.addClass(this.config.container.properties.classes[key].cancel)\n      }\n      if (this.backdrop && this.config.backdrop.mutation) {\n        const key = this.config.backdrop.mutation;\n        // this.backdrop.config.el.classList.add(this.config.backdrop.properties.classes[key].cancel);\n        this.backdrop.animation.addClass(this.config.backdrop.properties.classes[key].cancel);\n        // this.backdrop.emitter.unsubscribe('mutationEnd');\n      }\n      // this.emitter.unsubscribe('containerMutationEnd');\n    }\n\n    this.emitter.emit('beforeShow', this);\n\n    this.config.visible = true;\n\n    if (document.activeElement && document.hasFocus()) {\n      Modal.blurEl = document.activeElement;\n      (document.activeElement as HTMLElement).blur();\n    }\n\n    this.pending = true;\n    if (this.config.container.mutation) {\n      const key = this.config.container.mutation;\n      // container.classList.remove(this.config.container.properties.classes[key].hide, this.config.container.properties.classes[key].cancel);\n      this.animation!.removeClass(this.config.container.properties.classes[key].hide, this.config.container.properties.classes[key].cancel)\n    }\n    if (this.backdrop && this.config.backdrop.mutation) {\n      const key = this.config.backdrop.mutation;\n      // this.backdrop.config.el.classList.remove(this.config.backdrop.properties.classes[key].hide, this.config.backdrop.properties.classes[key].cancel);\n      this.backdrop.animation.removeClass(this.config.backdrop.properties.classes[key].hide, this.config.backdrop.properties.classes[key].cancel);\n    }\n\n    el.classList.add(this.config.classes.visible);\n\n    this.addListeners();\n\n    if (this.config.container.mutation) {\n      const key = this.config.container.mutation;\n\n      this.config.container.animation = true;\n      if (+this.config.container.timeouts[key] > 0) {\n        this.config.container.timeout = setTimeout(() => {\n          // container.classList.add(this.config.container.properties.classes[key].show);\n          this.animation!.addClass(this.config.container.properties.classes[key].show)\n        }, this.config.container.timeouts[key]);\n      } else {\n        // container.classList.add(this.config.container.properties.classes[key].show);\n        this.animation!.addClass(this.config.container.properties.classes[key].show)\n      }\n    } else {\n      // container.classList.add(this.config.container.properties.classes.common.show);\n      this.animation!.addClass(this.config.container.properties.classes.common.show)\n    }\n    if (this.backdrop) {\n      this.backdrop.config.el.classList.add(this.config.backdrop.properties.classes.visible);\n      if (this.config.backdrop.mutation) {\n        const key = this.config.backdrop.mutation;\n\n        this.backdrop.config.animation = true;\n        if (+this.config.backdrop.timeouts[key] > 0) {\n          this.backdrop.config.timeout = setTimeout(() => {\n            // this.backdrop!.config.el.classList.add(this.config.backdrop.properties.classes[key].show);\n            this.backdrop!.animation.addClass(this.config.backdrop.properties.classes[key].show);\n          }, this.config.backdrop.timeouts[key]);\n        } else {\n          // this.backdrop.config.el.classList.add(this.config.backdrop.properties.classes[key].show);\n          this.backdrop!.animation.addClass(this.config.backdrop.properties.classes[key].show);\n        }\n      } else {\n        // this.backdrop.config.el.classList.add(this.config.backdrop.properties.classes.common.show);\n        this.backdrop!.animation.addClass(this.config.backdrop.properties.classes.common.show);\n      }\n    }\n\n    if (! this.config.allow.bodyScroll) {\n      document.body.style.overflow  = 'hidden';\n      document.body.style.height    = '100vh';\n    }\n\n    if (this.config.container.mutation) {\n      this.emitter.once('containerMutationEnd', event => this.mutationEndCallback(true, false, event));\n    }\n    if (this.backdrop && this.config.backdrop.mutation) {\n      this.backdrop.emitter.once('mutationEnd', event => this.mutationEndCallback(false, false, event));\n    }\n    if (!this.config.container.mutation && !this.config.backdrop.mutation) {\n      this.emitter.emit('afterShow', this);\n    }\n  }\n\n\n  /**\n   * Hide modal\n   * @param config I_ModalDisplayConfig\n   */\n  hide(config?: I_ModalDisplayConfig) {\n    if (! this.config.visible) {\n      if (! config?.force) {\n        return;\n      }\n    }\n\n    if (this.config.container.timeout) {\n      clearTimeout(this.config.container.timeout);\n    }\n    if (this.backdrop && this.backdrop.config.timeout) {\n      clearTimeout(this.backdrop.config.timeout);\n    }\n\n    const el        = this.config.el;\n    const container = this.config.container.el;\n\n    if (this.pending) {\n      if (this.config.container.mutation) {\n        const key = this.config.container.mutation;\n        container.classList.add(this.config.container.properties.classes[key].cancel)\n      }\n      if (this.backdrop && this.config.backdrop.mutation) {\n        const key = this.config.backdrop.mutation;\n        this.backdrop.config.el.classList.add(this.config.backdrop.properties.classes[key].cancel);\n        this.backdrop.emitter.unsubscribe('mutationEnd');\n      }\n      this.emitter.unsubscribe('containerMutationEnd');\n    }\n\n    this.emitter.emit('beforeHide', this);\n    \n    this.removeListeners();\n    \n    this.config.visible = false;\n\n    this.pending = true;\n    if (this.config.container.mutation) {\n      const key = this.config.container.mutation;\n      this.config.container.animation = true;\n      container.classList.remove(this.config.container.properties.classes[key].show, this.config.container.properties.classes[key].cancel);\n      container.classList.add(this.config.container.properties.classes[key].hide);\n    } else {\n      container.classList.remove(this.config.container.properties.classes.common.show);\n    }\n    if (this.backdrop) {\n      if (this.config.backdrop.mutation) {\n        const key = this.config.backdrop.mutation;\n        this.backdrop.config.animation = true;\n        this.backdrop.config.el.classList.remove(this.config.backdrop.properties.classes[key].show, this.config.backdrop.properties.classes[key].cancel);\n        this.backdrop.config.el.classList.add(this.config.backdrop.properties.classes[key].hide);\n      } else {\n        this.backdrop.config.el.classList.remove(this.config.backdrop.properties.classes.common.show);\n      }\n    }\n\n    if (Modal.blurEl) {\n      (Modal.blurEl as HTMLElement).focus();\n    }\n    Modal.blurEl = null;\n\n    if (! this.config.allow.bodyScroll) {\n      document.body.style.overflow  = '';\n      document.body.style.height    = '';\n    }\n\n    if (this.config.container.mutation) {\n      this.emitter.once('containerMutationEnd', event => this.mutationEndCallback(true, true, event));\n    }\n    if (this.backdrop && this.config.backdrop.mutation) {\n      this.backdrop.emitter.once('mutationEnd', event => this.mutationEndCallback(false, true, event));\n    }\n\n    if (this.backdrop) {\n      if (! this.config.container.mutation && !this.config.backdrop.mutation) {\n        el.classList.remove(this.config.classes.visible);\n        this.emitter.emit('afterHide', this);\n      }\n    } else {\n      if (! this.config.container.mutation) {\n        el.classList.remove(this.config.classes.visible);\n        this.emitter.emit('afterHide', this);\n      }\n    }\n  }\n\n  \n  /**\n   * Toggle display modal\n   * @param config I_ModalDisplayConfig\n   */\n  toggle(config?: I_ModalDisplayConfig) {\n    this.config.visible ? this.hide(config) : this.show(config);\n  }\n}","import Modal from \"./Modal\";\n\nexport default Modal;\n\nexport {\n  I_Modal,\n  I_ModalConstructorConfig,\n  I_ModalConfig,\n  I_ModalDisplayConfig,\n  I_Backdrop,\n  I_BackdropConfig,\n  T_Mutation\n} from './types';","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// module exports must be returned from runtime so entry inlining is disabled\n// startup\n// Load entry module and return exports\nreturn __webpack_require__(516);\n","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};"],"sourceRoot":""}