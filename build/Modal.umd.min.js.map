{"version":3,"sources":["webpack://[name]/./node_modules/@xaro/event-emitter/src/index.ts","webpack://[name]/./node_modules/@xaro/event-emitter/src/EventEmitter.ts","webpack://[name]/./node_modules/@xaro/extend/index.js","webpack://[name]/./src/variables.ts","webpack://[name]/./src/Modal.ts","webpack://[name]/./src/index.ts","webpack://[name]/webpack/bootstrap","webpack://[name]/webpack/startup","webpack://[name]/webpack/runtime/define property getters","webpack://[name]/webpack/runtime/hasOwnProperty shorthand","webpack://[name]/webpack/runtime/make namespace object"],"names":["on","key","events","this","subscribe","cb","has","removes","Array","isArray","_cb","push","removeListener","unsubscribe","keys","idx","indexOf","splice","once","remove","listenerCount","hasOwnProperty","length","emit","event","args","validateEmit","seriesEmit","params","i","extend","to","Object","nextSource","keysArray","nextIndex","len","nextKey","desc","getOwnPropertyDescriptor","undefined","enumerable","isObject","o","constructor","defaults","id","el","dom","backdrop","container","visible","mutations","timeout","animation","transition","attr","close","target","allow","bodyScroll","closeEsc","closeAttr","selector","btnClose","classes","cancel","show","hide","common","config","pending","emitter","document","querySelector","Error","getAttribute","Modal","lastUndefinedId","containerEl","__closeAttrListener","bind","__closeEscListener","__containerMutationEndListener","addEventListener","__backdropMutationEndListener","querySelectorAll","force","stopPropagation","code","addListeners","closeEls","removeListeners","removeEventListener","mutationEndCallback","key1","key2","classList","clearTimeout","add","activeElement","hasFocus","blurEl","blur","setTimeout","body","style","overflow","height","focus","toggle","__webpack_module_cache__","__webpack_require__","moduleId","exports","module","__webpack_modules__","d","definition","defineProperty","get","obj","prop","prototype","call","r","Symbol","toStringTag","value"],"mappings":"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","file":"Modal.umd.min.js","sourcesContent":["import EventEmitter from \"./EventEmitter\";\n\nexport default EventEmitter;\n\nexport {\n  I_EventEmitter,\n  I_EventEmitterEvents,\n  I_EventEmitterConstructorConfig,\n  T_Func\n} from \"./types\";","import { I_EventEmitter, I_EventEmitterConstructorConfig, I_EventEmitterEvents, T_Func } from './types';\n\nexport default class EventEmitter implements I_EventEmitter {\n  /**\n   * Event list\n   */\n  events: I_EventEmitterEvents = {};\n\n\n  /**\n   * Create Emitter\n   */\n  constructor(on: I_EventEmitterConstructorConfig = {}) {\n    for (let key in on) {\n      if (on[key]) {\n        this.subscribe(key, on[key] as T_Func | T_Func[]);\n      }\n    }\n  }\n\n\n  /**\n   * Creates a key for the event and subscribes the passed callback to it.\n   */\n  subscribe(key: string, cb: T_Func | T_Func[]): T_Func[] {\n    if (!this.has(key)) {\n      this.events[key] = [];\n    }\n\n    let removes: T_Func[] = [];\n\n    if (Array.isArray(cb)) {\n      for (const _cb of cb) {\n        removes.push(...this.subscribe(key, _cb));\n      }\n    } else {\n      this.events[key].push(cb);\n      removes.push(() => this.removeListener(key, cb));\n    }\n\n    return removes;\n  }\n\n\n  /**\n   * Unsubscribes all callback functions from the event and removes the event\n   * key.\n   */\n  unsubscribe(...keys: string[]): void {\n    for (const key of keys) {\n      if (this.events[key]) {\n        delete this.events[key];\n      }\n    }\n  }\n\n\n  /**\n   * Removes a specific event key callback function.\n   */\n  removeListener(key: string, cb: T_Func): void {\n    // if (typeof this.events[key] === 'object') {\n    if (Array.isArray(this.events[key])) {\n      const idx = this.events[key].indexOf(cb);\n\n      if (idx > -1) {\n        this.events[key].splice(idx, 1);\n      }\n    }\n  }\n\n\n  /**\n   * Calls the callback function only once, and then removes it.\n   */\n  once(key: string, cb: T_Func | T_Func[]): void {\n    const remove = this.subscribe(key, () => {\n      remove[0]();\n      if (Array.isArray(cb)) {\n        for (const _cb of cb) {\n          _cb();\n        }\n      } else {\n        cb();\n      }\n    })\n  }\n\n\n  /**\n   * Checks for an event by key.\n   * (Doesn't check for callback functions)\n   */\n  has(key: string): boolean {\n    return !!this.events[key];\n  }\n\n\n  /**\n   * Returns the number of callback functions for the event key or \"false\" if\n   * there is no key\n   */\n  listenerCount(key: string): number | false {\n    if (! this.events.hasOwnProperty(key)) {\n      return false\n    }\n\n    return this.events[key].length;\n  }\n\n\n  /**\n   * Calls all callback functions on events using the event key.\n   */\n  emit(key: string, ...args: any): void {\n    const event: T_Func[] = this.events[key];\n\n    if (event) {\n      for (let cb of event) {\n        cb(...args);\n      }\n    }\n  }\n\n\n  /**\n   * Just like \"emit\" calls all callback functions. However, the callback must\n   * return a boolean value, which determines whether or not the next callback\n   * will execute.\n   * As a result, it returns the result of the last executed callback function.\n   */\n  validateEmit(key: string, ...args: any): boolean {\n    const event: T_Func[] = this.events[key];\n\n    if (! event) {\n      return false;\n    }\n\n    for(const cb of event) {\n      if (! cb(...args)) {\n        return false;\n      }\n    }\n    \n    return true;\n  }\n\n\n  /**\n   * Just like \"emit\" calls all callbacks, but unlike \"emit\" it passes the\n   * result of the previous callback to the next one as an argument.\n   * As aresult, it will return the result of the last callback.\n   */\n  seriesEmit(key: string, ...args: any): any {\n    const event: T_Func[] = this.events[key];\n\n    if (! event) {\n      return;\n    }\n\n    let params: any;\n\n    for (let i = 0; i < event.length; i++) {\n      if (i === 0) {\n        params = event[i](...args);\n      } else {\n        params = event[i](params);\n      }\n    }\n\n    return params;\n  }\n}","export default function extend(...args) {\n  const to = Object(args[0]);\n  for (let i = 1; i < args.length; i += 1) {\n    const nextSource = args[i];\n    if (nextSource !== undefined && nextSource !== null) {\n      const keysArray = Object.keys(Object(nextSource));\n      for (let nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex += 1) {\n        const nextKey = keysArray[nextIndex];\n        const desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\n        if (desc !== undefined && desc.enumerable) {\n          if (isObject(to[nextKey]) && isObject(nextSource[nextKey])) {\n            extend(to[nextKey], nextSource[nextKey]);\n          } else if (!isObject(to[nextKey]) && isObject(nextSource[nextKey])) {\n            to[nextKey] = {};\n            extend(to[nextKey], nextSource[nextKey]);\n          } else {\n            to[nextKey] = nextSource[nextKey];\n          }\n        }\n      }\n    }\n  }\n  return to;\n}\n\nexport function isObject(o) {\n  return typeof o === 'object' && o !== null && o.constructor && o.constructor === Object;\n}","import { T_Mutation } from \"./types\";\n\nexport const defaults = {\n  id:           null,\n  el:           null,\n  dom: {\n    backdrop:     null,\n    container:    null,\n  },\n  visible:      false,\n  mutations: {\n    container:  'animation',\n    backdrop:   'animation',\n  },\n  timeout: {\n    container: {\n      animation:     0,\n      transition:    100,\n    },\n    backdrop: {\n      animation:     0,\n      transition:    50,\n    }\n  },\n  attr: {\n    close:            'data-modal-close',\n    target:           'data-modal-target',\n    id:               'data-modal-id',\n  },\n  allow: {\n    bodyScroll:       false,\n    closeEsc:         true,\n    closeAttr:        true,\n  },\n  selector: {\n    container:        '.modal__container',\n    backdrop:         '.modal__backdrop',\n    btnClose:         '.modal__btn-close',\n  },\n  classes: {\n    visible:          'modal--visible',\n    animation: {\n      cancel:           'modal-animation--cancel',\n      show: {\n        container:        'modal-animation-container--show',\n        backdrop:         'modal-animation-backdrop--show',\n      },\n      hide: {\n        container:        'modal-animation-container--hide',\n        backdrop:         'modal-animation-backdrop--hide',\n      }\n    },\n    transition: {\n      cancel:           'modal-transition--cancel',\n      show: {\n        container:        'modal-transition-container--show',\n        backdrop:         'modal-transition-backdrop--show',\n      },\n      hide: {\n        container:        'modal-transition-container--hide',\n        backdrop:         'modal-transition-backdrop--hide',\n      }\n    },\n    common: {\n      show: {\n        container:        'modal-container--show',\n        backdrop:         'modal-backdrop--show',\n      },\n      hide: {\n        container:        'modal-container--hide',\n        backdrop:         'modal-backdrop--hide',\n      }\n    }\n  }\n};","import { I_Modal, I_ModalConfig, I_ModalConstructorConfig, I_ModalDisplayConfig, T_Mutation } from \"./types\";\nimport EventEmitter, { I_EventEmitter } from \"@xaro/event-emitter\";\nimport extend from \"@xaro/extend\";\nimport { defaults } from \"./variables\";\n\nexport default class Modal implements I_Modal {\n  static blurEl:          Element | null  = null;\n  static lastUndefinedId: number          = 0;\n\n  protected pending:      boolean         = false;\n\n  protected animation: { container: boolean, backdrop: boolean } = {\n    container:  false,\n    backdrop:   false\n  };\n\n  protected timeout: { container?: number, backdrop?: number } = {\n    container:  undefined,\n    backdrop:   undefined\n  };\n\n  emitter:  I_EventEmitter;\n  config:   I_ModalConfig;\n\n\n  /**\n   * Create Modal\n   * @param config I_ModalConstructorConfig\n   */\n  constructor(config: I_ModalConstructorConfig) {\n    this.emitter  = new EventEmitter(config.on);\n    this.config   = extend({}, defaults, config);\n\n    if (typeof config.el === 'string') {\n      this.config.el = document.querySelector(config.el) as HTMLElement;\n    }\n\n    if (! this.config.el) {\n      throw new Error(\"Element does not exists\");\n    }\n\n    if (! this.config.id) {\n      this.config.id = this.config.el.getAttribute(this.config.attr.id) || 'modal-' + Modal.lastUndefinedId++;\n    }\n\n    if (! this.config.dom.backdrop) {\n      this.config.dom.backdrop = this.config.el.querySelector('.modal__backdrop');\n    }\n    if (! this.config.dom.container) {\n      const containerEl = this.config.el.querySelector('.modal__container');\n      \n      if (! containerEl) {\n        throw new Error('[Modal] Container does not exists');\n      }\n\n      this.config.dom.container = containerEl as HTMLElement;\n    }\n\n    if (this.config.allow.closeAttr) {\n      this.__closeAttrListener              = this.__closeAttrListener.bind(this);\n    }\n    if (this.config.allow.closeEsc) {\n      this.__closeEscListener               = this.__closeEscListener.bind(this);\n    }\n\n    if (this.config.mutations.container) {\n      this.__containerMutationEndListener = this.__containerMutationEndListener.bind(this);\n      this.config.dom.container.addEventListener(this.config.mutations.container + 'end', this.__containerMutationEndListener);\n    }\n    if (this.config.dom.backdrop && this.config.mutations.backdrop) {\n      this.__backdropMutationEndListener = this.__backdropMutationEndListener.bind(this);\n      this.config.dom.backdrop.addEventListener(this.config.mutations.backdrop + 'end', this.__backdropMutationEndListener);\n    }\n\n    // trigger attr\n    for (const el of document.querySelectorAll(`[${this.config.attr.target}]`)) {\n      if (el.getAttribute(this.config.attr.target) === this.config.id) {\n        el.addEventListener('click', () => this.show());\n      }\n    }\n\n    this.emitter.emit('init', this);\n    \n    if (this.config.visible) {\n      this.show({ force: true });\n    }\n  }\n\n\n  /** DOM close attributes Listeners */\n  protected __closeAttrListener(event: MouseEvent): void {\n    this.hide();\n    this.emitter.emit('closeAttrClick', this, event);\n  }\n\n\n  /** DOM Escape listener */\n  protected __closeEscListener(event: KeyboardEvent): void {\n    event.stopPropagation();\n\n    if (event.code === 'Escape') {\n      this.hide()\n      this.emitter.emit('escKey', this, event);\n    }\n  }\n\n\n  /** Animation/Transition listeners */\n  protected __containerMutationEndListener(event: any): void {\n    this.emitter.emit('containerMutationEnd', this, event);\n  }\n  protected __backdropMutationEndListener(event: any): void {\n    this.emitter.emit('backdropMutationEnd', this, event);\n  }\n\n\n  /** Add DOM Event Listeners */\n  protected addListeners(): void {\n    // attr\n    if (this.config.allow.closeAttr) {\n      const closeEls = this.config.el.querySelectorAll(`[${this.config.attr.close}]`);\n      for (const el of closeEls) {\n        el.addEventListener('click', this.__closeAttrListener as EventListener);\n      }\n    }\n    // esc\n    if (this.config.allow.closeEsc) {\n      document.addEventListener('keyup', this.__closeEscListener);\n    }\n  }\n\n\n  /** Remove DOM Event Listeners */\n  protected removeListeners(): void {\n    // attr\n    if (this.config.allow.closeAttr) {\n      const closeEls = this.config.el.querySelectorAll(`[${this.config.attr.close}]`);\n      for (const el of closeEls) {\n        el.removeEventListener('click', this.__closeAttrListener as EventListener);\n      }\n    }\n    // esc\n    if (this.config.allow.closeEsc) {\n      document.removeEventListener('keyup', this.__closeEscListener);\n    }\n  }\n\n\n  /** show/hide mutation end callback */\n  protected mutationEndCallback(key1: string, key2: string, hide: boolean, event: TransitionEvent) {\n    this.animation[key1] = false;\n\n    if (this.config.dom[key2] && this.animation[key2]) {\n      return;\n    }\n    \n    this.pending = false;\n    \n    if (hide) {\n      this.config.el.classList.remove(this.config.classes.visible);\n    }\n\n    this.emitter.emit('after' + hide ? 'Hide' : 'Show', this, event);\n  }\n\n\n  /**\n   * Show modal\n   * @param config I_ModalDisplayConfig\n   */\n  show(config?: I_ModalDisplayConfig) {\n    if (this.config.visible) {\n      if (! config?.force) {\n        return;\n      }\n    }\n\n    for (const key in this.timeout) {\n      if (this.timeout[key]) {\n        clearTimeout(this.timeout[key]);\n      }\n    }\n\n    const el        = this.config.el;\n    const container = this.config.dom.container;\n    const backdrop  = this.config.dom.backdrop;\n\n    if (this.pending) {\n      if (this.config.mutations.container) {\n        container.classList.add(this.config.classes[this.config.mutations.container].cancel);\n      }\n      if (backdrop && this.config.mutations.backdrop) {\n        backdrop.classList.add(this.config.classes[this.config.mutations.backdrop].cancel);\n      }\n      this.emitter.unsubscribe('containerMutationEnd', 'backdropMutationEnd');\n    }\n\n    this.emitter.emit('beforeShow', this);\n\n    this.config.visible = true;\n\n    if (document.activeElement && document.hasFocus()) {\n      Modal.blurEl = document.activeElement;\n      (document.activeElement as HTMLElement).blur();\n    }\n\n    this.pending = true;\n    if (this.config.mutations.container) {\n      const key = this.config.mutations.container;\n      container.classList.remove(this.config.classes[key].hide.container, this.config.classes[key].cancel);\n    }\n    if (backdrop && this.config.mutations.backdrop) {\n      const key = this.config.mutations.backdrop;\n      backdrop.classList.remove(this.config.classes[key].hide.backdrop, this.config.classes[key].cancel);\n    }\n\n    el.classList.add(this.config.classes.visible);\n\n    if (this.config.mutations.container) {\n      const key = this.config.mutations.container;\n\n      this.animation.container = true;\n      if (+this.config.timeout.container[key] > 0) {\n        this.timeout.container = setTimeout(() => {\n          container.classList.add(this.config.classes[key].show.container);\n        }, this.config.timeout.container[key]);\n      } else {\n        container.classList.add(this.config.classes[key].show.container);\n      }\n    } else {\n      container.classList.add(this.config.classes.common.show.container);\n    }\n    if (backdrop) {\n      if (this.config.mutations.backdrop) {\n        const key = this.config.mutations.backdrop;\n\n        this.animation.backdrop = true;\n        if (+this.config.timeout.backdrop[key] > 0) {\n          this.timeout.backdrop = setTimeout(() => {\n            backdrop.classList.add(this.config.classes[key].show.backdrop);\n          }, this.config.timeout.backdrop[key]);\n        } else {\n          backdrop.classList.add(this.config.classes[key].show.backdrop);\n        }\n      } else {\n        backdrop.classList.add(this.config.classes.common.show.backdrop);\n      }\n    }\n\n    this.addListeners();\n\n    if (! this.config.allow.bodyScroll) {\n      document.body.style.overflow  = 'hidden';\n      document.body.style.height    = '100vh';\n    }\n\n    if (this.config.mutations.container) {\n      this.emitter.once('containerMutationEnd', event => this.mutationEndCallback('container', 'backdrop', false, event));\n    }\n    if (this.config.mutations.backdrop) {\n      this.emitter.once('backdropMutationEnd', event => this.mutationEndCallback('backdrop', 'container', false, event));\n    }\n    if (!this.config.mutations.container && !this.config.mutations.backdrop) {\n\n      this.emitter.emit('afterShow', this);\n    }\n  }\n\n\n  /**\n   * Hide modal\n   * @param config I_ModalDisplayConfig\n   */\n  hide(config?: I_ModalDisplayConfig) {\n    if (! this.config.visible) {\n      if (! config?.force) {\n        return;\n      }\n    }\n\n    for (const key in this.timeout) {\n      if (this.timeout[key]) {\n        clearTimeout(this.timeout[key]);\n      }\n    }\n\n    const el        = this.config.el;\n    const container = this.config.dom.container;\n    const backdrop  = this.config.dom.backdrop;\n\n    if (this.pending) {\n      if (this.config.mutations.container) {\n        container.classList.add(this.config.classes[this.config.mutations.container].cancel);\n      }\n      if (backdrop && this.config.mutations.backdrop) {\n        backdrop.classList.add(this.config.classes[this.config.mutations.backdrop].cancel);\n      }\n      this.emitter.unsubscribe('containerMutationEnd', 'backdropMutationEnd');\n    }\n\n    this.emitter.emit('beforeHide', this);\n    \n    this.removeListeners();\n    \n    this.config.visible = false;\n\n    this.pending = true;\n    if (this.config.mutations.container) {\n      const key = this.config.mutations.container;\n      this.animation.container = true;\n      container.classList.remove(this.config.classes[key].show.container, this.config.classes[key].cancel);\n      container.classList.add(this.config.classes[key].hide.container);\n    } else {\n      container.classList.remove(this.config.classes.common.show.container);\n    }\n    if (backdrop) {\n      if (this.config.mutations.backdrop) {\n        const key = this.config.mutations.backdrop;\n        this.animation.backdrop = true;\n        backdrop.classList.remove(this.config.classes[key].show.backdrop, this.config.classes[key].cancel);\n        backdrop.classList.add(this.config.classes[key].hide.backdrop);\n      } else {\n        backdrop.classList.remove(this.config.classes.common.show.backdrop);\n      }\n    }\n\n    if (Modal.blurEl) {\n      (Modal.blurEl as HTMLElement).focus();\n    }\n    Modal.blurEl = null;\n\n    if (! this.config.allow.bodyScroll) {\n      document.body.style.overflow  = '';\n      document.body.style.height    = '';\n    }\n\n    if (this.config.mutations.container) {\n      this.emitter.once('containerMutationEnd', event => this.mutationEndCallback('container', 'backdrop', true, event));\n    }\n    if (this.config.mutations.backdrop) {\n      this.emitter.once('backdropMutationEnd', event => this.mutationEndCallback('backdrop', 'container', true, event));\n    }\n    if (!this.config.mutations.container && !this.config.mutations.backdrop) {\n      el.classList.remove(this.config.classes.visible);\n      this.emitter.emit('afterHide', this);\n    }\n  }\n\n  \n  /**\n   * Toggle display modal\n   * @param config I_ModalDisplayConfig\n   */\n  toggle(config?: I_ModalDisplayConfig) {\n    this.config.visible ? this.hide(config) : this.show(config);\n  }\n}","import \"./scss\";\nimport Modal from \"./Modal\";\n\nconst modal = new Modal({\n  el: '.modal-1',\n  mutations: {\n    container:  'transition',\n    backdrop:   'transition'\n  }\n});\n\nexport default Modal;\n\nexport {\n  I_Modal,\n  I_ModalConstructorConfig,\n  I_ModalConfig,\n  I_ModalDisplayConfig,\n  T_Mutation\n} from './types';","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// module exports must be returned from runtime so entry inlining is disabled\n// startup\n// Load entry module and return exports\nreturn __webpack_require__(63);\n","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};"],"sourceRoot":""}