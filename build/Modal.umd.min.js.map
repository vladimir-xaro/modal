{"version":3,"sources":["webpack://[name]/webpack/universalModuleDefinition","webpack://[name]/./node_modules/@xaro/event-emitter/src/index.ts","webpack://[name]/./node_modules/@xaro/event-emitter/src/EventEmitter.ts","webpack://[name]/./node_modules/@xaro/extend/index.js","webpack://[name]/./src/Modal.ts","webpack://[name]/./src/index.ts","webpack://[name]/webpack/bootstrap","webpack://[name]/webpack/startup","webpack://[name]/webpack/runtime/define property getters","webpack://[name]/webpack/runtime/hasOwnProperty shorthand","webpack://[name]/webpack/runtime/make namespace object"],"names":["root","factory","exports","module","define","amd","self","on","key","events","this","subscribe","cb","has","removes","Array","isArray","_cb","push","removeListener","unsubscribe","keys","idx","indexOf","splice","once","remove","listenerCount","hasOwnProperty","length","emit","event","args","validateEmit","seriesEmit","params","i","extend","to","Object","nextSource","keysArray","nextIndex","len","nextKey","desc","getOwnPropertyDescriptor","undefined","enumerable","isObject","o","constructor","defaults","el","dom","backdrop","container","visible","animations","transitions","closeAttr","allow","closeEsc","animateContainer","animateBackdrop","selector","closeBtn","classes","animation","cancel","show","hide","transition","config","pending","emitter","querySelector","containerEl","Error","__closeAttrListener","bind","__closeEscListener","__containerAnimationEndListener","__backdropAnimationEndListener","addEventListener","__containerTransitionEndListener","__backdropTransitionEndListener","stopPropagation","code","addListeners","closeEls","querySelectorAll","document","removeListeners","removeEventListener","animationEndCallback","key1","key2","console","log","classList","transitionEndCallback","add","activeElement","hasFocus","Modal","blurEl","blur","body","style","overflow","height","focus","__webpack_module_cache__","__webpack_require__","moduleId","__webpack_modules__","d","definition","defineProperty","get","obj","prop","prototype","call","r","Symbol","toStringTag","value"],"mappings":"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","file":"Modal.umd.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Modal\"] = factory();\n\telse\n\t\troot[\"Modal\"] = factory();\n})(self, function() {\nreturn ","import EventEmitter from \"./EventEmitter\";\n\nexport default EventEmitter;\n\nexport {\n  I_EventEmitter,\n  I_EventEmitterEvents,\n  I_EventEmitterConstructorConfig,\n  T_Func\n} from \"./types\";","import { I_EventEmitter, I_EventEmitterConstructorConfig, I_EventEmitterEvents, T_Func } from './types';\n\nexport default class EventEmitter implements I_EventEmitter {\n  /**\n   * Event list\n   */\n  events: I_EventEmitterEvents = {};\n\n\n  /**\n   * Create Emitter\n   */\n  constructor(on: I_EventEmitterConstructorConfig = {}) {\n    for (let key in on) {\n      if (on[key]) {\n        this.subscribe(key, on[key] as T_Func | T_Func[]);\n      }\n    }\n  }\n\n\n  /**\n   * Creates a key for the event and subscribes the passed callback to it.\n   */\n  subscribe(key: string, cb: T_Func | T_Func[]): T_Func[] {\n    if (!this.has(key)) {\n      this.events[key] = [];\n    }\n\n    let removes: T_Func[] = [];\n\n    if (Array.isArray(cb)) {\n      for (const _cb of cb) {\n        removes.push(...this.subscribe(key, _cb));\n      }\n    } else {\n      this.events[key].push(cb);\n      removes.push(() => this.removeListener(key, cb));\n    }\n\n    return removes;\n  }\n\n\n  /**\n   * Unsubscribes all callback functions from the event and removes the event\n   * key.\n   */\n  unsubscribe(...keys: string[]): void {\n    for (const key of keys) {\n      if (this.events[key]) {\n        delete this.events[key];\n      }\n    }\n  }\n\n\n  /**\n   * Removes a specific event key callback function.\n   */\n  removeListener(key: string, cb: T_Func): void {\n    // if (typeof this.events[key] === 'object') {\n    if (Array.isArray(this.events[key])) {\n      const idx = this.events[key].indexOf(cb);\n\n      if (idx > -1) {\n        this.events[key].splice(idx, 1);\n      }\n    }\n  }\n\n\n  /**\n   * Calls the callback function only once, and then removes it.\n   */\n  once(key: string, cb: T_Func | T_Func[]): void {\n    const remove = this.subscribe(key, () => {\n      remove[0]();\n      if (Array.isArray(cb)) {\n        for (const _cb of cb) {\n          _cb();\n        }\n      } else {\n        cb();\n      }\n    })\n  }\n\n\n  /**\n   * Checks for an event by key.\n   * (Doesn't check for callback functions)\n   */\n  has(key: string): boolean {\n    return !!this.events[key];\n  }\n\n\n  /**\n   * Returns the number of callback functions for the event key or \"false\" if\n   * there is no key\n   */\n  listenerCount(key: string): number | false {\n    if (! this.events.hasOwnProperty(key)) {\n      return false\n    }\n\n    return this.events[key].length;\n  }\n\n\n  /**\n   * Calls all callback functions on events using the event key.\n   */\n  emit(key: string, ...args: any): void {\n    const event: T_Func[] = this.events[key];\n\n    if (event) {\n      for (let cb of event) {\n        cb(...args);\n      }\n    }\n  }\n\n\n  /**\n   * Just like \"emit\" calls all callback functions. However, the callback must\n   * return a boolean value, which determines whether or not the next callback\n   * will execute.\n   * As a result, it returns the result of the last executed callback function.\n   */\n  validateEmit(key: string, ...args: any): boolean {\n    const event: T_Func[] = this.events[key];\n\n    if (! event) {\n      return false;\n    }\n\n    for(const cb of event) {\n      if (! cb(...args)) {\n        return false;\n      }\n    }\n    \n    return true;\n  }\n\n\n  /**\n   * Just like \"emit\" calls all callbacks, but unlike \"emit\" it passes the\n   * result of the previous callback to the next one as an argument.\n   * As aresult, it will return the result of the last callback.\n   */\n  seriesEmit(key: string, ...args: any): any {\n    const event: T_Func[] = this.events[key];\n\n    if (! event) {\n      return;\n    }\n\n    let params: any;\n\n    for (let i = 0; i < event.length; i++) {\n      if (i === 0) {\n        params = event[i](...args);\n      } else {\n        params = event[i](params);\n      }\n    }\n\n    return params;\n  }\n}","export default function extend(...args) {\n  const to = Object(args[0]);\n  for (let i = 1; i < args.length; i += 1) {\n    const nextSource = args[i];\n    if (nextSource !== undefined && nextSource !== null) {\n      const keysArray = Object.keys(Object(nextSource));\n      for (let nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex += 1) {\n        const nextKey = keysArray[nextIndex];\n        const desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\n        if (desc !== undefined && desc.enumerable) {\n          if (isObject(to[nextKey]) && isObject(nextSource[nextKey])) {\n            extend(to[nextKey], nextSource[nextKey]);\n          } else if (!isObject(to[nextKey]) && isObject(nextSource[nextKey])) {\n            to[nextKey] = {};\n            extend(to[nextKey], nextSource[nextKey]);\n          } else {\n            to[nextKey] = nextSource[nextKey];\n          }\n        }\n      }\n    }\n  }\n  return to;\n}\n\nexport function isObject(o) {\n  return typeof o === 'object' && o !== null && o.constructor && o.constructor === Object;\n}","import { I_Modal, I_ModalConfig, I_ModalConstructorConfig, I_ModalDisplayConfig } from \"./types\";\nimport EventEmitter, { I_EventEmitter } from \"@xaro/event-emitter\";\nimport extend from \"@xaro/extend\";\n\nconst defaults = {\n  el:           null,\n  dom: {\n    backdrop:     null,\n    container:    null\n  },\n  visible:      false,\n  animations:   true,\n  transitions:  false,\n  closeAttr:    'data-modal-close',\n  allow: {\n    closeEsc:         true,\n    closeAttr:        true,\n    animateContainer: true,\n    animateBackdrop:  true\n  },\n  selector: {\n    container:        '.modal__container',\n    backdrop:         '.modal__backdrop',\n    closeBtn:         '.modal__btn-close'\n  },\n  classes: {\n    visible:          'modal--visible',\n    animation: {\n      cancel:           'modal-animation--cancel',\n      show: {\n        container:        'modal-animation-container--show',\n        backdrop:         'modal-animation-backdrop--show',\n      },\n      hide: {\n        container:        'modal-animation-container--hide',\n        backdrop:         'modal-animation-backdrop--hide',\n      }\n    },\n    transition: {\n      cancel:           'modal-transition--cancel',\n      show: {\n        container:        'modal-transition-container--show',\n        backdrop:         'modal-transition-backdrop--show',\n      },\n      hide: {\n        container:        'modal-transition-container--hide',\n        backdrop:         'modal-transition-backdrop--hide',\n      }\n    }\n  }\n}\n\nexport default class Modal implements I_Modal {\n  static blurEl: Element | null = null;\n\n  emitter:  I_EventEmitter;\n  config!:  I_ModalConfig;\n\n  pending:  boolean = false;\n\n  animation: { container: boolean, backdrop: boolean } = {\n    container:  false,\n    backdrop:   false\n  };\n\n  constructor(config: I_ModalConstructorConfig) {\n    this.emitter    = new EventEmitter(config.on);\n\n    this.config     = extend(defaults, config);\n\n    if (! this.config.dom.backdrop) {\n      this.config.dom.backdrop = this.config.el.querySelector('.modal__backdrop');\n    }\n    if (! this.config.dom.container) {\n      const containerEl = this.config.el.querySelector('.modal__container');\n      \n      if (! containerEl) {\n        throw new Error('[Modal] Container does not exists');\n      }\n\n      this.config.dom.container = containerEl as HTMLElement;\n    }\n\n    this.__closeAttrListener              = this.__closeAttrListener.bind(this);\n    this.__closeEscListener               = this.__closeEscListener.bind(this);\n\n    if (this.config.animations) {\n      this.__containerAnimationEndListener  = this.__containerAnimationEndListener.bind(this);\n      this.__backdropAnimationEndListener   = this.__backdropAnimationEndListener.bind(this);\n\n      this.config.dom.container.addEventListener('animationend', this.__containerAnimationEndListener);\n      this.config.dom.backdrop?.addEventListener('animationend', this.__backdropAnimationEndListener);\n    } else if (this.config.transitions) {\n      this.__containerTransitionEndListener  = this.__containerTransitionEndListener.bind(this);\n      this.__backdropTransitionEndListener   = this.__backdropTransitionEndListener.bind(this);\n\n      this.config.dom.container.addEventListener('transitionend', this.__containerTransitionEndListener);\n      this.config.dom.backdrop?.addEventListener('transitionend', this.__backdropTransitionEndListener);\n    }\n  }\n\n\n  /** DOM Event Listeners */\n  protected __closeAttrListener(event: MouseEvent): void {\n    this.hide();\n    this.emitter.emit('closeAttrClick', this, event);\n  }\n\n\n  protected __closeEscListener(event: KeyboardEvent): void {\n    event.stopPropagation();\n\n    if (event.code === 'Escape') {\n      this.hide()\n      this.emitter.emit('escKey', this, event);\n    }\n  }\n\n\n  /** Animations listeners */\n  protected __containerAnimationEndListener(event: AnimationEvent): void {\n    this.emitter.emit('containerAnimationEnd', this, event);\n  }\n  protected __backdropAnimationEndListener(event: AnimationEvent): void {\n    this.emitter.emit('backdropAnimationEnd', this, event);\n  }\n\n\n  /** Transitions listeners */\n  protected __containerTransitionEndListener(event: TransitionEvent): void {\n    this.emitter.emit('containerTransitionEnd', this, event);\n  }\n  protected __backdropTransitionEndListener(event: TransitionEvent): void {\n    this.emitter.emit('backdropTransitionEnd', this, event);\n  }\n\n\n  /** Add DOM Event Listeners */\n  protected addListeners(): void {\n    // attr\n    const closeEls = this.config.el.querySelectorAll(`[${this.config.closeAttr}]`);\n    for (const el of closeEls) {\n      el.addEventListener('click', this.__closeAttrListener as EventListener);\n    }\n    // esc\n    document.addEventListener('keyup', this.__closeEscListener);\n  }\n\n\n  /** Remove DOM Event Listeners */\n  protected removeListeners(): void {\n    // attr\n    const closeEls = this.config.el.querySelectorAll(`[${this.config.closeAttr}]`);\n    for (const el of closeEls) {\n      el.removeEventListener('click', this.__closeAttrListener as EventListener);\n    }\n    // esc\n    document.removeEventListener('keyup', this.__closeEscListener);\n  }\n\n  /** show/hide animation end callback */\n  protected animationEndCallback(key1: string, key2: string, hide: boolean, event: AnimationEvent) {\n    console.log('animationEndCallback', key1);\n    this.animation[key1] = false;\n\n    if (this.config.dom[key2] && this.animation[key2]) {\n      return;\n    }\n\n    this.pending = false;\n\n    if (hide) {\n      this.config.el.classList.remove(this.config.classes.visible);\n    }\n\n    this.emitter.emit('after' + hide ? 'Hide' : 'Show', this, event);\n  }\n\n  /** show/hide transition end callback */\n  protected transitionEndCallback(key1: string, key2: string, hide: boolean, event: TransitionEvent) {\n    console.log('transitionEndCallback', key1);\n    this.animation[key1] = false;\n\n    if (this.config.dom[key2] && this.animation[key2]) {\n      return;\n    }\n\n    this.pending = false;\n\n    if (hide) {\n      this.config.el.classList.remove(this.config.classes.visible);\n    }\n\n    this.emitter.emit('after' + hide ? 'Hide' : 'Show', this, event);\n  }\n\n\n  show(config?: I_ModalDisplayConfig) {\n    if (this.config.visible) {\n      return;\n    }\n\n    const el        = this.config.el;\n    const container = this.config.dom.container;\n    const backdrop  = this.config.dom.backdrop;\n\n    if (this.pending) {\n      if (this.config.animations) {\n        container.classList.add(this.config.classes.animation.cancel);\n        backdrop?.classList.add(this.config.classes.animation.cancel);\n      } else if (this.config.transitions) {\n        container.classList.add(this.config.classes.transition.cancel);\n        backdrop?.classList.add(this.config.classes.transition.cancel);\n      }\n      this.emitter.unsubscribe('containerAnimationEnd', 'backdropAnimationEnd');\n    }\n\n    this.emitter.emit('beforeShow', this);\n\n    this.config.visible = true;\n\n    if (document.activeElement && document.hasFocus()) {\n      Modal.blurEl = document.activeElement;\n      (document.activeElement as HTMLElement).blur();\n    }\n\n    if (this.config.animations) {\n      this.pending = true;\n\n      container.classList.remove(this.config.classes.animation.hide.container, this.config.classes.animation.cancel);\n      backdrop?.classList.remove(this.config.classes.animation.hide.backdrop, this.config.classes.animation.cancel);\n    } else if (this.config.transitions) {\n      this.pending = true;\n      container.classList.remove(this.config.classes.transition.hide.container, this.config.classes.transition.cancel);\n      backdrop?.classList.remove(this.config.classes.transition.hide.backdrop, this.config.classes.transition.cancel);\n    }\n\n    el.classList.add(this.config.classes.visible);\n    \n    if (this.config.animations) {\n      this.animation.container = true;\n      container.classList.add(this.config.classes.animation.show.container);\n      if (backdrop) {\n        this.animation.backdrop = true;\n        backdrop.classList.add(this.config.classes.animation.show.backdrop);\n      }\n    } else if (this.config.transitions) {\n      this.animation.container = true;\n      container.classList.add(this.config.classes.transition.show.container);\n      if (backdrop) {\n        this.animation.backdrop = true;\n        backdrop.classList.add(this.config.classes.transition.show.backdrop);\n      }\n    }\n\n    this.addListeners();\n\n    document.body.style.overflow  = 'hidden';\n    document.body.style.height    = '100vh';\n\n    if (this.config.animations) {\n      this.emitter.once('containerAnimationEnd', event => this.animationEndCallback('container', 'backdrop', false, event));\n      this.emitter.once('backdropAnimationEnd', event => this.animationEndCallback('backdrop', 'container', false, event));\n    } else if(this.config.transitions) {\n      this.emitter.once('containerTransitionEnd', event => this.transitionEndCallback('container', 'backdrop', false, event));\n      this.emitter.once('backdropTransitionEnd', event => this.transitionEndCallback('backdrop', 'container', false, event));\n    } else {\n      this.emitter.emit('afterShow', this);\n    }\n  }\n\n\n  hide(config?: I_ModalDisplayConfig) {\n    if (! this.config.visible) {\n      return;\n    }\n\n    const el        = this.config.el;\n    const container = this.config.dom.container;\n    const backdrop  = this.config.dom.backdrop;\n\n    if (this.pending) {\n      if (this.config.animations) {\n        container.classList.add(this.config.classes.animation.cancel);\n        backdrop?.classList.add(this.config.classes.animation.cancel);\n      } else if (this.config.transitions) {\n        container.classList.add(this.config.classes.transition.cancel);\n        backdrop?.classList.add(this.config.classes.transition.cancel);\n      }\n      this.emitter.unsubscribe('containerAnimationEnd', 'backdropAnimationEnd');\n      this.pending = false;\n    }\n\n    this.emitter.emit('beforeHide', this);\n    \n    this.removeListeners();\n    \n    this.config.visible = false;\n\n    if (this.config.animations) {\n      this.pending = true;\n      \n      this.animation.container = true;\n      container.classList.remove(this.config.classes.animation.show.container, this.config.classes.animation.cancel);\n      if (backdrop) {\n        this.animation.backdrop = true;\n        backdrop.classList.remove(this.config.classes.animation.show.backdrop, this.config.classes.animation.cancel);\n        backdrop.classList.add(this.config.classes.animation.hide.backdrop);\n      }\n      container.classList.add(this.config.classes.animation.hide.container);\n    } else if (this.config.transitions) {\n      this.pending = true;\n      this.animation.container = true;\n      container.classList.remove(this.config.classes.transition.show.container, this.config.classes.transition.cancel);\n      if (backdrop) {\n        this.animation.backdrop = true;\n        backdrop.classList.remove(this.config.classes.transition.show.backdrop, this.config.classes.transition.cancel);\n        backdrop.classList.add(this.config.classes.transition.hide.backdrop);\n      }\n      container.classList.add(this.config.classes.transition.hide.container);\n    }\n\n    if (Modal.blurEl) {\n      (Modal.blurEl as HTMLElement).focus();\n    }\n    Modal.blurEl = null;\n\n    document.body.style.overflow  = '';\n    document.body.style.height    = '';\n\n    if (this.config.animations) {\n      this.emitter.once('backdropAnimationEnd', event => this.animationEndCallback('backdrop', 'container', true, event));\n      this.emitter.once('containerAnimationEnd', event => this.animationEndCallback('container', 'backdrop', true, event));\n    } else if (this.config.transitions) {\n      this.emitter.once('backdropTransitionEnd', event => this.transitionEndCallback('backdrop', 'container', true, event));\n      this.emitter.once('containerTransitionEnd', event => this.transitionEndCallback('container', 'backdrop', true, event));\n    } else {\n      this.emitter.emit('afterHide', this);\n      el.classList.remove(this.config.classes.visible);\n    }\n  }\n}","import Modal from \"./Modal\";\n\nexport default Modal;\n\nexport {\n  I_Modal,\n  I_ModalConstructorConfig,\n  I_ModalConfig,\n  I_ModalDisplayConfig\n} from './types';","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// module exports must be returned from runtime so entry inlining is disabled\n// startup\n// Load entry module and return exports\nreturn __webpack_require__(458);\n","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};"],"sourceRoot":""}